{"ast":null,"code":"import React from'react';export var AxisX=function AxisX(props){var ticks=props.ticks+1;if(props.dimensions.width<=700){ticks=6+1;}return React.createElement(\"g\",null,get_ticks(props.dimensions.width,props.dimensions.height,ticks),prepare_x_axis(props.dimensions.width,props.dimensions.height,ticks,props.dates,props.x_label,props.dimensions.y_trans2));};export default AxisX;function make_x_tick(x,y){var line=\"M \".concat(x,\" \").concat(y,\" L \").concat(x,\" \").concat(y+10);return React.createElement(\"path\",{key:x,class:\"plot_xmark\",d:line,\"data-z-index\":\"0\"});}function get_ticks(width,height,ticks_number){var result=[];var frame=width/(ticks_number-1);for(var i=0;i<ticks_number;i++){var point=frame*i;result.push(make_x_tick(point,height));}return result;}function prepare_x_axis(width,height,ticks_number,data_mock,title,y_trans){var result=[];var length=Object.keys(data_mock).length;var data_frame=Math.floor(length/(ticks_number-1));var frame=width/(ticks_number-1);if(width<=700){for(var i=0;i<ticks_number;i++){result.push(React.createElement(\"text\",{key:i,x:frame*i,class:\"plot_xtick\",\"text-anchor\":\"middle\",y:height+25},formatDate_monthly(data_mock[data_frame*i][1])));}}else{for(var _i=0;_i<ticks_number;_i++){result.push(React.createElement(\"text\",{key:_i,x:frame*_i,class:\"plot_xtick\",\"text-anchor\":\"middle\",y:height+25},formatDate(data_mock[data_frame*_i][1])));}}var line=\"M 0 \".concat(height,\" H \").concat(width);var height_trans=y_trans;if(width>700){result.push(React.createElement(\"text\",{key:height,x:width/2,\"text-anchor\":\"middle\",class:\"plot_xaxis_title\",y:height+height_trans-30},React.createElement(\"tspan\",null,title)));}else{result.push(React.createElement(\"text\",{key:height,x:width/2,\"text-anchor\":\"middle\",class:\"plot_xaxis_title\",y:height+40},React.createElement(\"tspan\",null,title)));}result.push(React.createElement(\"path\",{key:height,d:line,fill:\"none\",class:\"plot_line\",\"data-z-index\":\"0\"}));return result;}function formatDate(d){var date=new Date(d);var dd=date.getDate();var mm=date.getMonth()+1;var yyyy=date.getFullYear();if(dd<10){dd='0'+dd;}if(mm<10){mm='0'+mm;};return d=dd+'-'+mm+'-'+yyyy;}function formatDate_monthly(d){var date=new Date(d);var dd=date.getDate();var mm=date.getMonth()+1;var yyyy=date.getFullYear();if(dd<10){dd='0'+dd;}if(mm<10){mm='0'+mm;};return d=mm+'-'+yyyy;}","map":{"version":3,"sources":["/Users/marcin/workspace/react/flask-react-app/client/src/components/plot/src/plot/parts/AxisX.js"],"names":["React","AxisX","props","ticks","dimensions","width","get_ticks","height","prepare_x_axis","dates","x_label","y_trans2","make_x_tick","x","y","line","ticks_number","result","frame","i","point","push","data_mock","title","y_trans","length","Object","keys","data_frame","Math","floor","formatDate_monthly","formatDate","height_trans","d","date","Date","dd","getDate","mm","getMonth","yyyy","getFullYear"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAC,KAAK,CAAI,CAE5B,GAAIC,CAAAA,KAAK,CAAGD,KAAK,CAACC,KAAN,CAAc,CAA1B,CAEA,GAAGD,KAAK,CAACE,UAAN,CAAiBC,KAAjB,EAAwB,GAA3B,CAA+B,CAC7BF,KAAK,CAAG,EAAI,CAAZ,CACD,CAGD,MACE,8BACKG,SAAS,CAACJ,KAAK,CAACE,UAAN,CAAiBC,KAAlB,CAAyBH,KAAK,CAACE,UAAN,CAAiBG,MAA1C,CAAkDJ,KAAlD,CADd,CAEKK,cAAc,CAACN,KAAK,CAACE,UAAN,CAAiBC,KAAlB,CAAyBH,KAAK,CAACE,UAAN,CAAiBG,MAA1C,CAAkDJ,KAAlD,CAAyDD,KAAK,CAACO,KAA/D,CAAsEP,KAAK,CAACQ,OAA5E,CAAqFR,KAAK,CAACE,UAAN,CAAiBO,QAAtG,CAFnB,CADF,CAMD,CAfM,CAiBP,cAAeV,CAAAA,KAAf,CAIA,QAASW,CAAAA,WAAT,CAAqBC,CAArB,CAAwBC,CAAxB,CAA2B,CAEvB,GAAIC,CAAAA,IAAI,aAAQF,CAAR,aAAaC,CAAb,eAAoBD,CAApB,aAAyBC,CAAC,CAAG,EAA7B,CAAR,CACA,MAAO,6BAAM,GAAG,CAAED,CAAX,CAAc,KAAK,CAAC,YAApB,CAAiC,CAAC,CAAEE,IAApC,CAA0C,eAAa,GAAvD,EAAP,CACH,CAED,QAAST,CAAAA,SAAT,CAAmBD,KAAnB,CAA0BE,MAA1B,CAAkCS,YAAlC,CAA+C,CAC3C,GAAIC,CAAAA,MAAM,CAAG,EAAb,CAEA,GAAIC,CAAAA,KAAK,CAAGb,KAAK,EAAIW,YAAY,CAAG,CAAnB,CAAjB,CAEA,IAAK,GAAIG,CAAAA,CAAC,CAAC,CAAX,CAAcA,CAAC,CAACH,YAAhB,CAA8BG,CAAC,EAA/B,CAAkC,CAC9B,GAAIC,CAAAA,KAAK,CAAGF,KAAK,CAAGC,CAApB,CACAF,MAAM,CAACI,IAAP,CAAYT,WAAW,CAACQ,KAAD,CAAQb,MAAR,CAAvB,EACH,CAED,MAAOU,CAAAA,MAAP,CACH,CAGD,QAAST,CAAAA,cAAT,CAAwBH,KAAxB,CAA+BE,MAA/B,CAAuCS,YAAvC,CAAqDM,SAArD,CAAgEC,KAAhE,CAAuEC,OAAvE,CAA+E,CAC7E,GAAIP,CAAAA,MAAM,CAAG,EAAb,CAEA,GAAIQ,CAAAA,MAAM,CAAGC,MAAM,CAACC,IAAP,CAAYL,SAAZ,EAAuBG,MAApC,CACA,GAAIG,CAAAA,UAAU,CAAGC,IAAI,CAACC,KAAL,CAAWL,MAAM,EAAET,YAAY,CAAC,CAAf,CAAjB,CAAjB,CAEA,GAAIE,CAAAA,KAAK,CAAGb,KAAK,EAAIW,YAAY,CAAG,CAAnB,CAAjB,CAEA,GAAGX,KAAK,EAAE,GAAV,CAAc,CACV,IAAI,GAAIc,CAAAA,CAAC,CAAC,CAAV,CAAaA,CAAC,CAACH,YAAf,CAA6BG,CAAC,EAA9B,CAAiC,CAC7BF,MAAM,CAACI,IAAP,CAAY,4BAAM,GAAG,CAAEF,CAAX,CAAc,CAAC,CAAED,KAAK,CAACC,CAAvB,CAA0B,KAAK,CAAC,YAAhC,CAA6C,cAAY,QAAzD,CAAkE,CAAC,CAAEZ,MAAM,CAAG,EAA9E,EAAmFwB,kBAAkB,CAACT,SAAS,CAACM,UAAU,CAACT,CAAZ,CAAT,CAAwB,CAAxB,CAAD,CAArG,CAAZ,EACH,CACJ,CAJD,IAIK,CACD,IAAI,GAAIA,CAAAA,EAAC,CAAC,CAAV,CAAaA,EAAC,CAACH,YAAf,CAA6BG,EAAC,EAA9B,CAAiC,CAC7BF,MAAM,CAACI,IAAP,CAAY,4BAAM,GAAG,CAAEF,EAAX,CAAc,CAAC,CAAED,KAAK,CAACC,EAAvB,CAA0B,KAAK,CAAC,YAAhC,CAA6C,cAAY,QAAzD,CAAkE,CAAC,CAAEZ,MAAM,CAAG,EAA9E,EAAmFyB,UAAU,CAACV,SAAS,CAACM,UAAU,CAACT,EAAZ,CAAT,CAAwB,CAAxB,CAAD,CAA7F,CAAZ,EACH,CACJ,CAED,GAAIJ,CAAAA,IAAI,eAAUR,MAAV,eAAsBF,KAAtB,CAAR,CAEA,GAAI4B,CAAAA,YAAY,CAAGT,OAAnB,CAEA,GAAGnB,KAAK,CAAC,GAAT,CAAa,CACTY,MAAM,CAACI,IAAP,CAAY,4BAAM,GAAG,CAAEd,MAAX,CAAmB,CAAC,CAAEF,KAAK,CAAC,CAA5B,CAA+B,cAAY,QAA3C,CAAoD,KAAK,CAAC,kBAA1D,CAA6E,CAAC,CAAEE,MAAM,CAAG0B,YAAT,CAAwB,EAAxG,EAA4G,iCAAQV,KAAR,CAA5G,CAAZ,EACH,CAFD,IAEK,CACDN,MAAM,CAACI,IAAP,CAAY,4BAAM,GAAG,CAAEd,MAAX,CAAmB,CAAC,CAAEF,KAAK,CAAC,CAA5B,CAA+B,cAAY,QAA3C,CAAoD,KAAK,CAAC,kBAA1D,CAA6E,CAAC,CAAEE,MAAM,CAAE,EAAxF,EAA4F,iCAAQgB,KAAR,CAA5F,CAAZ,EACH,CACDN,MAAM,CAACI,IAAP,CAAY,4BAAM,GAAG,CAAEd,MAAX,CAAmB,CAAC,CAAEQ,IAAtB,CAA4B,IAAI,CAAC,MAAjC,CAAwC,KAAK,CAAC,WAA9C,CAA0D,eAAa,GAAvE,EAAZ,EAEA,MAAOE,CAAAA,MAAP,CAED,CAID,QAASe,CAAAA,UAAT,CAAoBE,CAApB,CACC,CACC,GAAIC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAASF,CAAT,CAAX,CACA,GAAIG,CAAAA,EAAE,CAAGF,IAAI,CAACG,OAAL,EAAT,CACA,GAAIC,CAAAA,EAAE,CAAGJ,IAAI,CAACK,QAAL,GAAgB,CAAzB,CACA,GAAIC,CAAAA,IAAI,CAAGN,IAAI,CAACO,WAAL,EAAX,CACA,GAAGL,EAAE,CAAC,EAAN,CAAS,CAACA,EAAE,CAAC,IAAIA,EAAP,CAAU,CACpB,GAAGE,EAAE,CAAC,EAAN,CAAS,CAACA,EAAE,CAAC,IAAIA,EAAP,CAAU,EACpB,MAAOL,CAAAA,CAAC,CAAGG,EAAE,CAAC,GAAH,CAAOE,EAAP,CAAU,GAAV,CAAcE,IAAzB,CACD,CAED,QAASV,CAAAA,kBAAT,CAA4BG,CAA5B,CACC,CACC,GAAIC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAASF,CAAT,CAAX,CACA,GAAIG,CAAAA,EAAE,CAAGF,IAAI,CAACG,OAAL,EAAT,CACA,GAAIC,CAAAA,EAAE,CAAGJ,IAAI,CAACK,QAAL,GAAgB,CAAzB,CACA,GAAIC,CAAAA,IAAI,CAAGN,IAAI,CAACO,WAAL,EAAX,CACA,GAAGL,EAAE,CAAC,EAAN,CAAS,CAACA,EAAE,CAAC,IAAIA,EAAP,CAAU,CACpB,GAAGE,EAAE,CAAC,EAAN,CAAS,CAACA,EAAE,CAAC,IAAIA,EAAP,CAAU,EACpB,MAAOL,CAAAA,CAAC,CAAGK,EAAE,CAAC,GAAH,CAAOE,IAAlB,CACD","sourcesContent":["import React from 'react';\n\nexport const AxisX = props => {\n\n  let ticks = props.ticks + 1;\n    \n  if(props.dimensions.width<=700){\n    ticks = 6 + 1;\n  }\n\n\n  return (\n    <g>\n        {get_ticks(props.dimensions.width, props.dimensions.height, ticks)}\n        {prepare_x_axis(props.dimensions.width, props.dimensions.height, ticks, props.dates, props.x_label, props.dimensions.y_trans2)}\n    </g>\n  )\n};\n\nexport default AxisX\n\n\n\nfunction make_x_tick(x, y) {\n\n    let line = `M ${x} ${y} L ${x} ${y + 10}`;\n    return <path key={x} class=\"plot_xmark\" d={line} data-z-index=\"0\" />\n}\n\nfunction get_ticks(width, height, ticks_number){\n    let result = [];\n\n    let frame = width / (ticks_number - 1);\n\n    for (let i=0; i<ticks_number; i++){\n        let point = frame * i;\n        result.push(make_x_tick(point, height))\n    }\n\n    return result;\n}\n\n\nfunction prepare_x_axis(width, height, ticks_number, data_mock, title, y_trans){\n  let result = []\n\n  let length = Object.keys(data_mock).length;\n  let data_frame = Math.floor(length/(ticks_number-1));\n\n  let frame = width / (ticks_number - 1)\n\n  if(width<=700){\n      for(let i=0; i<ticks_number; i++){\n          result.push(<text key={i} x={frame*i} class=\"plot_xtick\" text-anchor=\"middle\" y={height + 25}>{formatDate_monthly(data_mock[data_frame*i][1])}</text>)\n      }\n  }else{\n      for(let i=0; i<ticks_number; i++){\n          result.push(<text key={i} x={frame*i} class=\"plot_xtick\" text-anchor=\"middle\" y={height + 25}>{formatDate(data_mock[data_frame*i][1])}</text>)\n      }\n  }\n\n  let line = `M 0 ${height} H ${width}`;\n\n  let height_trans = y_trans\n\n  if(width>700){\n      result.push(<text key={height} x={width/2} text-anchor=\"middle\" class=\"plot_xaxis_title\" y={height + height_trans - 30}><tspan>{title}</tspan></text>)\n  }else{\n      result.push(<text key={height} x={width/2} text-anchor=\"middle\" class=\"plot_xaxis_title\" y={height +40}><tspan>{title}</tspan></text>)\n  }\n  result.push(<path key={height} d={line} fill=\"none\" class=\"plot_line\" data-z-index=\"0\" />)\n\n  return result \n\n}\n\n\n\nfunction formatDate(d)\n {\n  let date = new Date(d)\n  var dd = date.getDate(); \n  var mm = date.getMonth()+1;\n  var yyyy = date.getFullYear(); \n  if(dd<10){dd='0'+dd} \n  if(mm<10){mm='0'+mm};\n  return d = dd+'-'+mm+'-'+yyyy\n}\n\nfunction formatDate_monthly(d)\n {\n  let date = new Date(d)\n  var dd = date.getDate(); \n  var mm = date.getMonth()+1;\n  var yyyy = date.getFullYear(); \n  if(dd<10){dd='0'+dd} \n  if(mm<10){mm='0'+mm};\n  return d = mm+'-'+yyyy\n}"]},"metadata":{},"sourceType":"module"}