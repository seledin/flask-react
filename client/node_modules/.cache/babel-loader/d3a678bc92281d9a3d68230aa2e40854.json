{"ast":null,"code":"import React from'react';// import { get_ticks, get_x_axis, prepare_x_axis } from \"../utils_dates/graphics\"\n// class AxisX extends React.PureComponent {\n//     constructor(props) {\n//         super(props);\n//     }\n//     render() {\n//       let ticks = this.props.ticks + 1;\n//       if(this.props.dimensions.width<=700){\n//         ticks = 6 + 1;\n//       }\n//       return (\n//         <g>\n//             {/* <g dangerouslySetInnerHTML={{ __html: get_x_axis(this.props.x_label, this.props.dimensions.width, this.props.dimensions.height, this.props.dimensions.x_trans, this.props.dimensions.y_trans) }} />  */}\n//             <g dangerouslySetInnerHTML={{ __html: get_ticks(this.props.dimensions.width, this.props.dimensions.height, ticks) }} />\n//             <g dangerouslySetInnerHTML={{ __html: prepare_x_axis(this.props.dimensions.width, this.props.dimensions.height, ticks, this.props.dates, this.props.x_label, this.props.dimensions.y_trans2) }} /> \n//         </g>\n//       );\n//     }\n//   }\n//   export default AxisX;\nexport var AxisX=function AxisX(props){var ticks=props.ticks+1;if(props.dimensions.width<=700){ticks=6+1;}return React.createElement(\"g\",null,get_ticks(props.dimensions.width,props.dimensions.height,ticks));};export default AxisX;function make_x_tick(x,y){var line=\"M \".concat(x,\" \").concat(y,\" L \").concat(x,\" \").concat(y+10);// return `<path class=\"plot_xmark\" d=\"${line}\" data-z-index=\"0\" />`\nreturn React.createElement(\"path\",{class:\"plot_xmark\",d:line,\"data-z-index\":\"0\"});}function get_ticks(width,height,ticks_number){var result=[];var frame=width/(ticks_number-1);for(var i=0;i<ticks_number;i++){var point=frame*i;result.push(make_x_tick(point,height));}// let frame = width / (length - 1)\n// for(let i=0; i<ticks_number; i++){\n//     // result.push(`<text x=\"${frame*i}\" class=\"plot_xtick\" text-anchor=\"middle\" y=\"${height + 30}\">${formatDate_monthly(data_mock[data_frame*i][1])}</text>`)\n//     result.push(`<text x=\"${frame*i}\" class=\"plot_xtick\" text-anchor=\"middle\" y=\"${height + 30}\">${formatDate_monthly(data_mock[i][1])}</text>`)\n// }\nreturn result;}function prepare_x_axis(width,height,ticks_number,data_mock,title,y_trans){var result=[];var length=Object.keys(data_mock).length;var data_frame=Math.floor(length/(ticks_number-1));var frame=width/(ticks_number-1);if(width<=700){for(var i=0;i<ticks_number;i++){result.push(React.createElement(\"text\",{x:frame*i,class:\"plot_xtick\",\"text-anchor\":\"middle\",y:height+25},formatDate_monthly(data_mock[data_frame*i][1])));// result.push(`<text x=\"${frame*i}\" class=\"plot_xtick\" text-anchor=\"middle\" y=\"${height + 25}\">${formatDate_monthly(data_mock[data_frame*i][1])}</text>`)\n}}else{for(var _i=0;_i<ticks_number;_i++){result.push(React.createElement(\"text\",{x:frame*_i,class:\"plot_xtick\",\"text-anchor\":\"middle\",y:height+25},formatDate(data_mock[data_frame*_i][1])));// result.push(`<text x=\"${frame*i}\" class=\"plot_xtick\" text-anchor=\"middle\" y=\"${height + 25}\">${formatDate(data_mock[data_frame*i][1])}</text>`)\n}}var line=\"M 0 \".concat(height,\" H \").concat(width);// console.log(\"***\")\n// console.log(height)\n// console.log(y_trans)\nvar height_trans=y_trans;// if(width>800){\n//     height_trans = height_trans/2\n// }\nif(width>700){result.push(React.createElement(\"text\",{x:width/2,\"text-anchor\":\"middle\",class:\"plot_xaxis_title\",y:height+height_trans-30},React.createElement(\"tspan\",null,title)));// result.push(`<text x=\"${width/2}\" text-anchor=\"middle\" class=\"plot_xaxis_title\" y=\"${height + height_trans - 30}\"><tspan>${title}</tspan></text>`)\n}else{result.push(React.createElement(\"text\",{x:width/2,\"text-anchor\":\"middle\",class:\"plot_xaxis_title\",y:height+40},React.createElement(\"tspan\",null,title)));// result.push(`<text x=\"${width/2}\" text-anchor=\"middle\" class=\"plot_xaxis_title\" y=\"${height +40}\"><tspan>${title}</tspan></text>`)\n}result.push(React.createElement(\"path\",{d:line,fill:\"none\",class:\"plot_line\",\"data-z-index\":\"0\"}));// result.push(`<path d=\"${line}\" fill=\"none\" class=\"plot_line\" data-z-index=\"0\" />`)\nreturn result;}function formatDate(d){var date=new Date(d);var dd=date.getDate();var mm=date.getMonth()+1;var yyyy=date.getFullYear();if(dd<10){dd='0'+dd;}if(mm<10){mm='0'+mm;};return d=dd+'-'+mm+'-'+yyyy;}function formatDate_monthly(d){var date=new Date(d);var dd=date.getDate();var mm=date.getMonth()+1;var yyyy=date.getFullYear();if(dd<10){dd='0'+dd;}if(mm<10){mm='0'+mm;};return d=mm+'-'+yyyy;}","map":{"version":3,"sources":["/Users/marcin/workspace/react/flask-react-app/client/src/components/plot3/src/plot/parts/AxisX.js"],"names":["React","AxisX","props","ticks","dimensions","width","get_ticks","height","make_x_tick","x","y","line","ticks_number","result","frame","i","point","push","prepare_x_axis","data_mock","title","y_trans","length","Object","keys","data_frame","Math","floor","formatDate_monthly","formatDate","height_trans","d","date","Date","dd","getDate","mm","getMonth","yyyy","getFullYear"],"mappings":"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","sourcesContent":["import React from 'react';\n// import { get_ticks, get_x_axis, prepare_x_axis } from \"../utils_dates/graphics\"\n\n// class AxisX extends React.PureComponent {\n//     constructor(props) {\n//         super(props);\n//     }\n    \n//     render() {\n\n//       let ticks = this.props.ticks + 1;\n      \n//       if(this.props.dimensions.width<=700){\n//         ticks = 6 + 1;\n//       }\n\n//       return (\n//         <g>\n//             {/* <g dangerouslySetInnerHTML={{ __html: get_x_axis(this.props.x_label, this.props.dimensions.width, this.props.dimensions.height, this.props.dimensions.x_trans, this.props.dimensions.y_trans) }} />  */}\n//             <g dangerouslySetInnerHTML={{ __html: get_ticks(this.props.dimensions.width, this.props.dimensions.height, ticks) }} />\n//             <g dangerouslySetInnerHTML={{ __html: prepare_x_axis(this.props.dimensions.width, this.props.dimensions.height, ticks, this.props.dates, this.props.x_label, this.props.dimensions.y_trans2) }} /> \n//         </g>\n//       );\n//     }\n//   }\n\n//   export default AxisX;\n\n\nexport const AxisX = props => {\n\n  let ticks = props.ticks + 1;\n    \n  if(props.dimensions.width<=700){\n    ticks = 6 + 1;\n  }\n\n\n  return (\n    <g>\n        {/* <g dangerouslySetInnerHTML={{ __html: get_x_axis(this.props.x_label, this.props.dimensions.width, this.props.dimensions.height, this.props.dimensions.x_trans, this.props.dimensions.y_trans) }} />  */}\n        \n        {/* <g dangerouslySetInnerHTML={{ __html: get_ticks(this.props.dimensions.width, this.props.dimensions.height, ticks) }} />\n        <g dangerouslySetInnerHTML={{ __html: prepare_x_axis(this.props.dimensions.width, this.props.dimensions.height, ticks, this.props.dates, this.props.x_label, this.props.dimensions.y_trans2) }} />  */}\n\n        {get_ticks(props.dimensions.width, props.dimensions.height, ticks)}\n        {/* {prepare_x_axis(this.props.dimensions.width, this.props.dimensions.height, ticks, this.props.dates, this.props.x_label, this.props.dimensions.y_trans2)} */}\n    </g>\n  )\n};\n\nexport default AxisX\n\n\n\nfunction make_x_tick(x, y) {\n\n    let line = `M ${x} ${y} L ${x} ${y + 10}`;\n    // return `<path class=\"plot_xmark\" d=\"${line}\" data-z-index=\"0\" />`\n    return <path class=\"plot_xmark\" d={line} data-z-index=\"0\" />\n}\n\nfunction get_ticks(width, height, ticks_number){\n    let result = [];\n\n    let frame = width / (ticks_number - 1);\n\n    for (let i=0; i<ticks_number; i++){\n        let point = frame * i;\n        result.push(make_x_tick(point, height))\n    }\n\n    // let frame = width / (length - 1)\n    // for(let i=0; i<ticks_number; i++){\n    //     // result.push(`<text x=\"${frame*i}\" class=\"plot_xtick\" text-anchor=\"middle\" y=\"${height + 30}\">${formatDate_monthly(data_mock[data_frame*i][1])}</text>`)\n    //     result.push(`<text x=\"${frame*i}\" class=\"plot_xtick\" text-anchor=\"middle\" y=\"${height + 30}\">${formatDate_monthly(data_mock[i][1])}</text>`)\n    // }\n\n    return result;\n}\n\n\nfunction prepare_x_axis(width, height, ticks_number, data_mock, title, y_trans){\n  let result = []\n\n  let length = Object.keys(data_mock).length;\n  let data_frame = Math.floor(length/(ticks_number-1));\n\n  let frame = width / (ticks_number - 1)\n\n  if(width<=700){\n      for(let i=0; i<ticks_number; i++){\n          result.push(<text x={frame*i} class=\"plot_xtick\" text-anchor=\"middle\" y={height + 25}>{formatDate_monthly(data_mock[data_frame*i][1])}</text>)\n          // result.push(`<text x=\"${frame*i}\" class=\"plot_xtick\" text-anchor=\"middle\" y=\"${height + 25}\">${formatDate_monthly(data_mock[data_frame*i][1])}</text>`)\n      }\n  }else{\n      for(let i=0; i<ticks_number; i++){\n          result.push(<text x={frame*i} class=\"plot_xtick\" text-anchor=\"middle\" y={height + 25}>{formatDate(data_mock[data_frame*i][1])}</text>)\n          // result.push(`<text x=\"${frame*i}\" class=\"plot_xtick\" text-anchor=\"middle\" y=\"${height + 25}\">${formatDate(data_mock[data_frame*i][1])}</text>`)\n      }\n  }\n\n  let line = `M 0 ${height} H ${width}`;\n\n  // console.log(\"***\")\n  // console.log(height)\n  // console.log(y_trans)\n\n  let height_trans = y_trans\n  // if(width>800){\n  //     height_trans = height_trans/2\n  // }\n\n  if(width>700){\n      result.push(<text x={width/2} text-anchor=\"middle\" class=\"plot_xaxis_title\" y={height + height_trans - 30}><tspan>{title}</tspan></text>)\n      // result.push(`<text x=\"${width/2}\" text-anchor=\"middle\" class=\"plot_xaxis_title\" y=\"${height + height_trans - 30}\"><tspan>${title}</tspan></text>`)\n  }else{\n      result.push(<text x={width/2} text-anchor=\"middle\" class=\"plot_xaxis_title\" y={height +40}><tspan>{title}</tspan></text>)\n      // result.push(`<text x=\"${width/2}\" text-anchor=\"middle\" class=\"plot_xaxis_title\" y=\"${height +40}\"><tspan>${title}</tspan></text>`)\n  }\n  result.push(<path d={line} fill=\"none\" class=\"plot_line\" data-z-index=\"0\" />)\n  // result.push(`<path d=\"${line}\" fill=\"none\" class=\"plot_line\" data-z-index=\"0\" />`)\n  \n  \n\n  return result \n\n}\n\n\n\nfunction formatDate(d)\n {\n  let date = new Date(d)\n  var dd = date.getDate(); \n  var mm = date.getMonth()+1;\n  var yyyy = date.getFullYear(); \n  if(dd<10){dd='0'+dd} \n  if(mm<10){mm='0'+mm};\n  return d = dd+'-'+mm+'-'+yyyy\n}\n\nfunction formatDate_monthly(d)\n {\n  let date = new Date(d)\n  var dd = date.getDate(); \n  var mm = date.getMonth()+1;\n  var yyyy = date.getFullYear(); \n  if(dd<10){dd='0'+dd} \n  if(mm<10){mm='0'+mm};\n  return d = mm+'-'+yyyy\n}"]},"metadata":{},"sourceType":"module"}