{"ast":null,"code":"import _defineProperty from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Header from\"./components/Header\";import Input from'./components/Input';import{Row,Col}from'react-bootstrap';import Login from'./components/Login';import Table from'./components/Table';import Chart from'./components/Chart';import Test_Plot_Dates from'./Test_Plot_Dates';import'bootstrap/dist/css/bootstrap.min.css';import'./styles/plot.css';import{appConfig}from'./config.js';var dimensions=appConfig.dimensions;var MA_Day_5=\"5 Day MA for \";var LOWER_BAND=\"Lower Band for \";var UPPER_BAND=\"Upper Band for \";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.fetchCallback=function(data){_this.setState({displayResults:false});_this.fetchData(data.keywords,data.selected_state_name,data.selected_time_frame);};_this.state={title:\"before\",username:\"user\",keywords:[],authenticated:true,displayResults:false,region_state:\"US\",data:[],futureData:[],selected_time_frame:\"today 5-y\",rankRates:[],growthRates:[],options:{title:\"Trends Forecast\",x_label:\"Date\",y_label:\"Search interest (%)\",dimensions:dimensions}};return _this;}_createClass(App,[{key:\"fetchData\",value:function fetchData(keywords,state,selected_time_frame){var _this2=this;// let url = appConfig.KEYWORDS_NEW;\nvar url=\"/new\";fetch(url,{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify({keywords:keywords,region_state:state,time_frame:selected_time_frame})}).then(function(res){return res.json();}).then(function(result){var _this2$setState;_this2.setState((_this2$setState={data:_this2.dataMapping2(keywords,result),futureData:_this2.futureData2(keywords,result),keywords:keywords,displayResults:true,region_state:state,selected_time_frame:selected_time_frame},_defineProperty(_this2$setState,\"displayResults\",true),_defineProperty(_this2$setState,\"rankRates\",_this2.getRateTableData(result.growth_rate_result)),_defineProperty(_this2$setState,\"growthRates\",_this2.getGrowthTableData(result.projected_growth_result)),_this2$setState));});}},{key:\"render\",value:function render(){if(this.state.authenticated){return React.createElement(\"div\",{className:\"main_results\"},this.state.displayResults?React.createElement(\"div\",null,React.createElement(Header,{username:this.state.username}),React.createElement(Input,{callbackFromParent:this.fetchCallback}),React.createElement(\"div\",{className:\"results_div\"},React.createElement(Row,null,React.createElement(Col,{sm:5},React.createElement(\"div\",null,React.createElement(Chart,null))),React.createElement(Col,{sm:7},React.createElement(\"div\",null,React.createElement(Test_Plot_Dates,{options:this.state.options,data:this.state.data,futureData:this.state.futureData,number_of_series:this.state.futureData.length,keywords:this.state.keywords}))))),React.createElement(\"div\",{className:\"tables\"},React.createElement(Row,null,React.createElement(Col,{sm:6},React.createElement(\"span\",{className:\"center\"},React.createElement(\"h3\",null,\"Growth Rate\")),React.createElement(Table,{tableData:this.state.rankRates})),React.createElement(Col,{sm:6},React.createElement(\"span\",{className:\"center\"},React.createElement(\"h3\",null,\"Projected growth\")),React.createElement(Table,{tableData:this.state.growthRates}))))):React.createElement(\"div\",null,React.createElement(Header,{username:this.state.username}),React.createElement(Input,{callbackFromParent:this.fetchCallback}),React.createElement(\"div\",{className:\"intro\"})));}else{return React.createElement(\"div\",null,React.createElement(Login,{callbackFromLogin:this.toLoginCallback}));}}},{key:\"getGrowthTableData\",value:function getGrowthTableData(data){var headers=[\"Projected growth in 5 weeks for US (for all keywords) [%]\",\"Projected growth in 5 weeks for US (for one keyword) [%]\"];var arr=Object.keys(data[\"Keyword\"]).map(function(key){return[data[\"Keyword\"][key],data[headers[0]][key],data[headers[1]][key]];});var result={data:arr,headers:headers};return result;}},{key:\"getRateTableData\",value:function getRateTableData(data){var headers=[\"Growth_Rate_0_1\",\"Growth_Rate_0_2\",\"Growth_Rate_0_3\",\"Growth_Rate_1_2\",\"Growth_Rate_2_3\"];var arr=Object.keys(data[\"Keyword\"]).map(function(key){return[data[\"Keyword\"][key],data[headers[0]][key],data[headers[1]][key],data[headers[2]][key],data[headers[3]][key],data[headers[4]][key]];});var result={data:arr,headers:headers};return result;}},{key:\"dataMapping2\",value:function dataMapping2(keywords,result){var data=[];var _loop=function _loop(keyword){var index=0;var k_w=keywords[keyword];var arr=Object.keys(result[k_w][MA_Day_5+k_w]).slice(4,260).map(function(key){return[index++,Date.UTC(key.substring(0,4),key.substring(5,7),key.substring(8,10)),result[k_w][MA_Day_5+k_w][key],result[k_w][LOWER_BAND+k_w][key],result[k_w][UPPER_BAND+k_w][key]];});data.push(arr);};for(var keyword in keywords){_loop(keyword);}return data;}},{key:\"futureData2\",value:function futureData2(keywords,result){var data=[];var _loop2=function _loop2(keyword){var index=0;var k_w=keywords[keyword];var arr=Object.keys(result[keywords[keyword]+\"F\"][keywords[keyword]]).map(function(key){return[index++,Date.UTC(key.substring(0,4),key.substring(5,7),key.substring(8,10)),result[keywords[keyword]+\"F\"][MA_Day_5+k_w][key],result[keywords[keyword]+\"F\"][LOWER_BAND+k_w][key],result[keywords[keyword]+\"F\"][UPPER_BAND+k_w][key]];});data.push(arr);};for(var keyword in keywords){_loop2(keyword);}return data;}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/marcin/workspace/react/flask-react-app/client/src/App.js"],"names":["React","Header","Input","Row","Col","Login","Table","Chart","Test_Plot_Dates","appConfig","dimensions","MA_Day_5","LOWER_BAND","UPPER_BAND","App","props","fetchCallback","data","setState","displayResults","fetchData","keywords","selected_state_name","selected_time_frame","state","title","username","authenticated","region_state","futureData","rankRates","growthRates","options","x_label","y_label","url","fetch","method","headers","body","JSON","stringify","time_frame","then","res","json","result","dataMapping2","futureData2","getRateTableData","growth_rate_result","getGrowthTableData","projected_growth_result","length","toLoginCallback","arr","Object","keys","map","key","keyword","index","k_w","slice","Date","UTC","substring","push","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Header from \"./components/Header\"\nimport Input from './components/Input'\nimport { Row, Col } from 'react-bootstrap';\nimport Login from './components/Login';\nimport Table from './components/Table';\nimport Chart from './components/Chart';\nimport Test_Plot_Dates from './Test_Plot_Dates';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './styles/plot.css'\n\nimport { appConfig } from './config.js';\n\nlet dimensions = appConfig.dimensions;\n\nconst MA_Day_5 = \"5 Day MA for \";\nconst LOWER_BAND = \"Lower Band for \";\nconst UPPER_BAND = \"Upper Band for \";\n\n\n\nclass App extends React.Component {\n  \n    constructor(props){\n      super(props);\n      this.state = {\n        title: \"before\",\n        username: \"user\",\n        keywords: [],\n        authenticated: true,\n        displayResults: false,\n        region_state: \"US\",\n        data: [],\n        futureData: [],\n        selected_time_frame: \"today 5-y\",\n        rankRates: [],\n        growthRates: [],\n        options: {\n          title: \"Trends Forecast\",\n          x_label: \"Date\",\n          y_label: \"Search interest (%)\",\n          dimensions: dimensions,\n        },\n      };\n\n    }\n\n    fetchCallback = (data) => {\n        this.setState({\n            displayResults: false,\n        });\n  \n        this.fetchData(data.keywords, data.selected_state_name, data.selected_time_frame)\n    }\n\n    fetchData(keywords, state, selected_time_frame){\n\n        // let url = appConfig.KEYWORDS_NEW;\n        let url = \"/new\"\n        \n        fetch(url, {\n          method: 'POST',\n          headers: {\n            'Content-type': 'application/json',\n          },\n          body: JSON.stringify({\n            keywords: keywords, region_state: state, time_frame: selected_time_frame\n          }),\n        }).then(res => res.json())\n            .then(\n            (result) => {\n                this.setState({\n                    data: this.dataMapping2(keywords, result),\n                    futureData: this.futureData2(keywords, result),\n                    keywords: keywords,\n                    displayResults: true,\n                    region_state: state,\n                    selected_time_frame: selected_time_frame,\n                    displayResults: true,\n                    rankRates: this.getRateTableData(result.growth_rate_result),\n                    growthRates: this.getGrowthTableData(result.projected_growth_result)\n                });\n            })\n    }\n    \n    render() {\n\n        if (this.state.authenticated) {\n        return (\n            <div className=\"main_results\">\n            {this.state.displayResults ? (\n            \n            <div>\n              <Header username={this.state.username} />\n\n              <Input callbackFromParent={this.fetchCallback}/>\n\n              <div className=\"results_div\">\n              <Row> \n                  <Col sm={5}>\n                    <div>\n                      <Chart />\n                      {/* <Chart callbackFromApp={this.mapCallback}/> */}\n                    </div>\n                  </Col>\n                  <Col sm={7}>\n                    <div> \n                      <Test_Plot_Dates options={this.state.options} data={this.state.data} futureData={this.state.futureData} number_of_series={this.state.futureData.length} keywords={this.state.keywords} />\n                    </div>\n                  </Col>\n              </Row> \n              </div>\n              <div className=\"tables\">\n                <Row>\n                  <Col sm={6}>\n                    <span className=\"center\"><h3>Growth Rate</h3></span>\n                    <Table tableData={this.state.rankRates} />\n                  </Col>\n                  <Col sm={6}>\n                    <span className=\"center\"><h3>Projected growth</h3></span>\n                    <Table tableData={this.state.growthRates}  />\n                  </Col>\n                </Row>\n              </div>\n\n            </div>  ) : (\n            \n            <div>\n              <Header username={this.state.username} />\n              <Input callbackFromParent={this.fetchCallback}/>\n\n              <div className=\"intro\">\n              </div>\n            </div>\n            )\n          }\n            </div>\n            );\n        } else{\n        return (\n        <div>\n            <Login callbackFromLogin={this.toLoginCallback}/>\n        </div>);      \n        }\n    }\n    \n      getGrowthTableData(data){\n        let headers = [\"Projected growth in 5 weeks for US (for all keywords) [%]\", \"Projected growth in 5 weeks for US (for one keyword) [%]\"]\n        \n        \n        let arr = Object.keys(data[\"Keyword\"]).map(\n          function(key){\n            return [data[\"Keyword\"][key], data[headers[0]][key], data[headers[1]][key]]\n          }\n        );\n    \n        let result = {\n          data: arr,\n          headers: headers\n        }\n    \n        return result;\n      }\n    \n      getRateTableData(data){\n        let headers = [\"Growth_Rate_0_1\", \"Growth_Rate_0_2\", \"Growth_Rate_0_3\", \"Growth_Rate_1_2\", \"Growth_Rate_2_3\"]\n    \n        let arr = Object.keys(data[\"Keyword\"]).map(\n          function(key){\n            return [data[\"Keyword\"][key], data[headers[0]][key], data[headers[1]][key], data[headers[2]][key], data[headers[3]][key], data[headers[4]][key]]\n          }\n        );\n    \n        let result = {\n          data: arr,\n          headers: headers\n        }\n    \n        return result;\n      }\n\n\n      dataMapping2(keywords, result){\n        let data = []\n    \n        for (let keyword in keywords) {  \n            let index = 0;\n            let k_w = keywords[keyword]\n            let arr = Object.keys(result[k_w][MA_Day_5+k_w]).slice(4,260).map(\n            function(key){\n              return [index++, Date.UTC(key.substring(0,4), key.substring(5,7), key.substring(8,10)), result[k_w][MA_Day_5+k_w][key], result[k_w][LOWER_BAND+k_w][key], result[k_w][UPPER_BAND+k_w][key]]\n            }\n          );\n          data.push(arr)\n        }\n    \n        return data;\n      }\n    \n    \n      futureData2(keywords, result){\n    \n        let data = []\n    \n        for (let keyword in keywords) {  \n          let index = 0;\n          let k_w = keywords[keyword]\n          let arr = Object.keys(result[keywords[keyword] + \"F\"][keywords[keyword]]).map(\n            function(key){\n              return [index++, Date.UTC(key.substring(0,4), key.substring(5,7), key.substring(8,10)), result[keywords[keyword] + \"F\"][MA_Day_5+k_w][key], result[keywords[keyword] + \"F\"][LOWER_BAND+k_w][key], result[keywords[keyword] + \"F\"][UPPER_BAND+k_w][key]]\n            }\n          );\n          data.push(arr)\n        }\n    \n        return data;\n      }\n  }\n  \n  \n  export default App;\n"]},"metadata":{},"sourceType":"module"}