{"ast":null,"code":"import _classCallCheck from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import HighchartsReact from'highcharts-react-official';import Highcharts from\"highcharts\";// import Highcharts from 'highcharts' //core\nimport HC_more from'highcharts/highcharts-more';//module\nHC_more(Highcharts);//init module\n// require(\"highcharts/highcharts-more\")(Highcharts);\nvar PlotComponent=/*#__PURE__*/function(_Component){_inherits(PlotComponent,_Component);function PlotComponent(props){var _this;_classCallCheck(this,PlotComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(PlotComponent).call(this,props));_this.setHoverData=function(e){// The chart is not updated because `chartOptions` has not changed.\n_this.setState({hoverData:e.target.category});};_this.updateSeries=function(){// The chart is updated only with new options.\n_this.setState({chartOptions:{series:[]}});};_this.state={keywords:[],hoverData:null};return _this;}_createClass(PlotComponent,[{key:\"prepareData\",value:function prepareData(keywords,data,futureData,dataRange,futureDataRange){var result=[];for(var keyword in keywords){result.push({name:keywords[keyword],data:data[keyword],color:Highcharts.getOptions().colors[keyword]});result.push({name:keywords[keyword]+\" forecast\",data:futureData[keyword],dashStyle:'shortdot',color:Highcharts.getOptions().colors[keyword],showInLegend:false});result.push({name:keywords[keyword]+\" range\",data:dataRange[keyword],type:'arearange',color:Highcharts.getOptions().colors[keyword],fillOpacity:0.3,showInLegend:false,zIndex:1,lineWidth:0,marker:{enabled:false}});result.push({name:keywords[keyword]+\" range forecast\",data:futureDataRange[keyword],type:'arearange',color:Highcharts.getOptions().colors[keyword],fillOpacity:0.3,showInLegend:false,zIndex:1,lineWidth:0,marker:{enabled:false}});}// console.log(JSON.stringify(result[0].data))\nreturn result;}},{key:\"getLine\",value:function getLine(data){var last_element=data[0][data[0].length-1];return last_element[0];}},{key:\"render\",value:function render(){var chartOptions={title:{text:\"Keywords trends\"},xAxis:{title:{text:'Date'},type:'datetime',dateTimeLabelFormats:{day:'%e-%b-%y',format:'%e-%b-%y',month:'%b-%y',year:'%b-%y',step:2000},plotLines:[{color:'red',// Color value\nvalue:this.getLine(this.props.data),// Value of where the line will appear\nwidth:2// Width of the line    \n}]},yAxis:{min:0,max:100,title:{text:'Search interest %'}},mapNavigation:{enableMouseWheelZoom:true},tooltip:{crosshairs:true,shared:true,valueSuffix:\"%\",headerFormat:'<b>Week: {point.key}</b><br>'},legend:{show:true,symbolHeight:2,symbolWidth:30,symbolRadius:1},chart:{zoomType:'xy',height:'45%'},series:this.prepareData(this.props.keywords,this.props.data,this.props.futureData,this.props.dataRanges,this.props.futureDataRanges),plotOptions:{series:{point:{events:{// mouseOver: this.setHoverData.bind(this)\n}},states:{hover:{enabled:false}},marker:{enabled:false}}}};return React.createElement(\"div\",null,React.createElement(HighchartsReact,{highcharts:Highcharts,options:chartOptions}));}}]);return PlotComponent;}(Component);export default PlotComponent;","map":{"version":3,"sources":["/Users/marcin/workspace/react/flask-react-app/client/src/components/Plot2.js"],"names":["React","Component","HighchartsReact","Highcharts","HC_more","PlotComponent","props","setHoverData","e","setState","hoverData","target","category","updateSeries","chartOptions","series","state","keywords","data","futureData","dataRange","futureDataRange","result","keyword","push","name","color","getOptions","colors","dashStyle","showInLegend","type","fillOpacity","zIndex","lineWidth","marker","enabled","last_element","length","title","text","xAxis","dateTimeLabelFormats","day","format","month","year","step","plotLines","value","getLine","width","yAxis","min","max","mapNavigation","enableMouseWheelZoom","tooltip","crosshairs","shared","valueSuffix","headerFormat","legend","show","symbolHeight","symbolWidth","symbolRadius","chart","zoomType","height","prepareData","dataRanges","futureDataRanges","plotOptions","point","events","states","hover"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport HighchartsReact from 'highcharts-react-official';\nimport Highcharts from \"highcharts\";\n\n// import Highcharts from 'highcharts' //core\nimport HC_more from 'highcharts/highcharts-more' //module\nHC_more(Highcharts) //init module\n\n// require(\"highcharts/highcharts-more\")(Highcharts);\n\nclass PlotComponent extends Component {\t\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tkeywords: [],\n\t\t\thoverData: null\n\t\t};\n\t}\n\n\tprepareData(keywords, data, futureData, dataRange, futureDataRange){\n\t\tlet result = []\n\n\t\tfor(let keyword in keywords){\n\t\t\tresult.push({\n\t\t\t\tname: keywords[keyword],\n\t\t\t\tdata: data[keyword],\n\t\t\t\tcolor: Highcharts.getOptions().colors[keyword]\n\t\t\t})\n\n\t\t\tresult.push({\n\t\t\t\tname: keywords[keyword] + \" forecast\",\n\t\t\t\tdata: futureData[keyword],\n\t\t\t\tdashStyle: 'shortdot',\n\t\t\t\tcolor: Highcharts.getOptions().colors[keyword],\n\t\t\t\tshowInLegend: false,          \n\t\t\t})\n\n\t\t\tresult.push({\n\t\t\t\tname: keywords[keyword] + \" range\",\n\t\t\t\tdata: dataRange[keyword],\n\t\t\t\ttype: 'arearange',\n\t\t\t\tcolor: Highcharts.getOptions().colors[keyword],\n\t\t\t\tfillOpacity: 0.3,\n\t\t\t\tshowInLegend: false,  \n\t\t\t\tzIndex: 1,\n\t\t\t\tlineWidth: 0,  \n\t\t\t\tmarker: {\n\t\t\t\t\tenabled: false\n\t\t \t\t}\n\t\t\t})\t\n\t\t\t\t\n\t\t\tresult.push({\n\t\t\t\tname: keywords[keyword] + \" range forecast\",\n\t\t\t\tdata: futureDataRange[keyword],\n\t\t\t\ttype: 'arearange',\n\t\t\t\tcolor: Highcharts.getOptions().colors[keyword],\n\t\t\t\tfillOpacity: 0.3,\n\t\t\t\tshowInLegend: false,  \n\t\t\t\tzIndex: 1,  \n\t\t\t\tlineWidth: 0,\n\t\t\t\tmarker: {\n\t\t\t\t\tenabled: false\n\t\t \t\t}\n\t\t\t})\t\n\n\t\t}\n\n\t\t// console.log(JSON.stringify(result[0].data))\n\n\t\treturn result;\n\t}\n\n\tsetHoverData = (e) => { \n\t\t// The chart is not updated because `chartOptions` has not changed.\n\t\tthis.setState({ hoverData: e.target.category })\n\t}\n\t\n\tupdateSeries = () => {\n\t\t// The chart is updated only with new options.\n\t\tthis.setState({ \n\t\t  chartOptions: {\n\t\t\tseries: [\n\n\t\t\t]\n\t\t  }\n\t\t});\n\t}\n\n\tgetLine(data){\n\t\tvar last_element = data[0][data[0].length - 1];\n\t\treturn last_element[0]\n\t}\n\n    render() {\n\n\t\tlet chartOptions = {\n\n\t\t\ttitle: {\n\t\t\t\ttext: \"Keywords trends\"\n\t\t\t},\n\t\t\t\n\t\t\txAxis: {\n\t\t\t\ttitle: {\n\t\t\t\t\ttext: 'Date'\n\t\t\t\t},\n\t\t\t\ttype: 'datetime',\n\t\t\t\tdateTimeLabelFormats: {\n\t\t\t\t\tday: '%e-%b-%y',\n\t\t\t\t\tformat: '%e-%b-%y',\n\t\t\t\t\tmonth: '%b-%y',\n\t\t\t\t\tyear: '%b-%y',\n\t\t\t\t\tstep: 2000\n\t\t\t\t},\n\t\t\t\tplotLines: [{\n\t\t\t\t\tcolor: 'red', // Color value\n\t\t\t\t\tvalue: this.getLine(this.props.data), // Value of where the line will appear\n\t\t\t\t\twidth: 2 // Width of the line    \n\t\t\t\t}]\n\t\t\t},\n\t\t\t\n\t\t\tyAxis: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 100,\n\t\t\t\ttitle: {\n\t\t\t\t\ttext: 'Search interest %'\n\t\t\t\t},\n\n\t\t\t},\n\n\t\t\tmapNavigation: {\n\t\t\t\tenableMouseWheelZoom: true\n\t\t\t},\n\t\t\t\n\t\t\ttooltip: {\n\t\t\t\tcrosshairs: true,\n\t\t\t\tshared: true,\n\t\t\t\tvalueSuffix: \"%\",\n\t\t\t\theaderFormat: '<b>Week: {point.key}</b><br>',\n\t\t\t},\n\t\t\t\n\t\t\tlegend: {\n\t\t\t\tshow: true,\n\t\t\t\tsymbolHeight: 2,\n\t\t\t\tsymbolWidth: 30,\n\t\t\t\tsymbolRadius: 1\n\t\t\t},\n\t\t\tchart: {\n\t\t\t\tzoomType: 'xy',\n\t\t\t\theight: '45%',\n\t\t\t},\n\t\t\tseries: this.prepareData(this.props.keywords, this.props.data, this.props.futureData, this.props.dataRanges, this.props.futureDataRanges),\n\t\t\tplotOptions: {\n\t\t\t  series: {\n\t\t\t\tpoint: {\n\t\t\t\t  events: {\n\t\t\t\t\t// mouseOver: this.setHoverData.bind(this)\n\t\t\t\t  }\n\t\t\t\t},\n\t\t\t\tstates:{\n\t\t\t\t\thover: {\n\t\t\t\t\t\tenabled: false\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmarker: {\n\t\t\t\t\tenabled: false,\n\t\t\t\t}\n\n\t\t\t  }\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t  <HighchartsReact\n\t\t\t\thighcharts={Highcharts}\n\t\t\t\toptions= {chartOptions}\n\t\t\t  />\n\t\t\t</div>\n\t\t  )\n\t}\n}\n\nexport default PlotComponent"]},"metadata":{},"sourceType":"module"}