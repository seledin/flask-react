{"ast":null,"code":"import _classCallCheck from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/marcin/workspace/react/flask-react-app/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./App.css';import{get_random_colors as _get_random_colors,get_box_height as _get_box_height,get_data_mocks_area_DATES,scale_data_mocks as _scale_data_mocks,get_data_map_area_DATES as _get_data_map_area_DATES,get_historical_dates,get_forecasted_dates,get_random_mock_area_array_dates}from'./utils_dates/functions';import{appConfig}from'./utils_dates/config.js';import AxisX from'./components/AxisX';import AxisY from'./components/AxisY';import Legend from'./components/Legend';import Static_Line from'./components/Static_Line';import Pointer_Line from'./components/Pointer_Line';import Info_Box from'./components/Info_Box';import Area_Path from'./components/Area_Path';import Plot from'./components/Plot';var dimensions=appConfig.dimensions;var ranges=appConfig.ranges_dates;var number_of_plots=appConfig.number_of_plots;var array_length_dates=appConfig.array_length_dates+appConfig.array_length_dates_forecast;// dimensions.box_height = get_box_height(number_of_plots);\nvar historical_mock1=get_random_mock_area_array_dates(get_historical_dates(),10,30);var historical_mock2=get_random_mock_area_array_dates(get_historical_dates(),40,80);var forecasted_mock1=get_random_mock_area_array_dates(get_forecasted_dates(),10,30);var forecasted_mock2=get_random_mock_area_array_dates(get_forecasted_dates(),40,80);var historical_data_mock=[historical_mock1,historical_mock2];var forecasted_data_mock=[forecasted_mock1,forecasted_mock2];for(var i=0;i<historical_data_mock.length;i++){forecasted_data_mock[i].unshift(historical_data_mock[i][historical_data_mock[i].length-1]);}var Test_Plot_Dates=/*#__PURE__*/function(_React$Component){_inherits(Test_Plot_Dates,_React$Component);function Test_Plot_Dates(props){var _this;_classCallCheck(this,Test_Plot_Dates);_this=_possibleConstructorReturn(this,_getPrototypeOf(Test_Plot_Dates).call(this,props));_this.handleMouseMove=_this.handleMouseMove.bind(_assertThisInitialized(_this));_this.handleHoverOff=_this.handleHoverOff.bind(_assertThisInitialized(_this));_this.updateWindowDimensions=_this.updateWindowDimensions.bind(_assertThisInitialized(_this));var x_trans=85;var y_trans=85;var width=window.innerWidth*0.6-2*x_trans;var height=_this.props.height-2*y_trans;_this.divRef=React.createRef();_this.state={title:_this.props.options.title,y_number:10,ticks_number:array_length_dates,x_label:_this.props.options.x_label,y_label:_this.props.options.y_label,mark_line:{pos:0,visibility:\"hidden\"},info_box:{pos_x:0,pos_y:0,visibility:\"hidden\",colors:_get_random_colors(_this.props.number_of_series)},scaled_historical_data:_this.scale_data_mocks(_this.props.historical_data,_this.props.forecasted_data,ranges,width,height,_this.props.number_of_series)[0],scaled_forecasted_data:_this.scale_data_mocks(_this.props.historical_data,_this.props.forecasted_data,ranges,width,height,_this.props.number_of_series)[1],//  scaled_historical_data: this.scale_data_mocks(historical_data_mock, forecasted_data_mock, ranges, width, height, 2)[0],\n//  scaled_forecasted_data: this.scale_data_mocks(historical_data_mock, forecasted_data_mock, ranges, width, height, 2)[1],\ndata_map_area_DATES:_this.get_data_map_area_DATES(_this.props.historical_data,_this.props.forecasted_data,array_length_dates,_this.props.number_of_series),//  data_map_area_DATES: this.get_data_map_area_DATES(historical_data_mock, forecasted_data_mock, array_length_dates, 2),\ncolors:_this.get_random_colors(_this.props.number_of_series),info_box_height:_this.get_box_height(_this.props.number_of_series),number:_this.props.number_of_series,dimensions:{width2:width,width:width/1.1,height:height,x_trans:x_trans,y_trans:y_trans,historical_data_length:appConfig.array_length_dates,forecasted_data_length:appConfig.array_length_dates_forecast}};return _this;}_createClass(Test_Plot_Dates,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateWindowDimensions();window.addEventListener('resize',this.updateWindowDimensions);this.divRef.current.focus();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener('resize',this.updateWindowDimensions);}},{key:\"scaling\",value:function scaling(){}},{key:\"updateWindowDimensions\",value:function updateWindowDimensions(){var div_width2=this.divRef.current.clientWidth;var x_trans=this.props.x_trans;var y_trans=this.props.y_trans;var div_width=div_width2-2*x_trans;var height=this.props.height-2*y_trans;this.setState({dimensions:{width2:div_width2,width:div_width,height:this.props.height-2*y_trans,x_trans:x_trans,y_trans:y_trans,historical_data_length:appConfig.array_length_dates,forecasted_data_length:appConfig.array_length_dates_forecast},scaled_historical_data:this.scale_data_mocks(this.props.historical_data,this.props.forecasted_data,ranges,div_width,height,this.props.number_of_series)[0],scaled_forecasted_data:this.scale_data_mocks(this.props.historical_data,this.props.forecasted_data,ranges,div_width,height,this.props.number_of_series)[1]//  scaled_historical_data: this.scale_data_mocks(historical_data_mock, forecasted_data_mock, ranges, div_width, height, 2)[0],\n//  scaled_forecasted_data: this.scale_data_mocks(historical_data_mock, forecasted_data_mock, ranges, div_width, height, 2)[1],\n});}},{key:\"scale_data_mocks\",value:function scale_data_mocks(data,forecasted_data,ranges,width,height,number_of_series){return _scale_data_mocks(data,forecasted_data,ranges,width,height,number_of_series);}},{key:\"get_data_map_area_DATES\",value:function get_data_map_area_DATES(data,forecasted_data,array_length_dates,number_of_series){return _get_data_map_area_DATES(get_data_mocks_area_DATES(data,forecasted_data,number_of_series),array_length_dates,number_of_series);}},{key:\"get_random_colors\",value:function get_random_colors(number_of_series){return _get_random_colors(number_of_series);}},{key:\"get_box_height\",value:function get_box_height(number_of_series){return _get_box_height(number_of_series);}},{key:\"handleMouseMove\",value:function handleMouseMove(event){var e=event.target;var dim=e.getBoundingClientRect();var x=event.clientX-dim.left-this.state.dimensions.x_trans;var y=event.clientY-dim.top-this.state.dimensions.y_trans;// console.log(x)\n// console.log(this.state.dimensions)\nif(x>=0&&y>=0&&x<=this.state.dimensions.width&&y<=this.state.dimensions.height){var x_diff=ranges.max_x-ranges.min_x;var x_frame=this.state.dimensions.width/x_diff;var key=Math.round(x/x_frame);if(this.state.data_map_area_DATES[key]!==undefined){var left_index=Math.round((ranges.max_x-ranges.min_x)/2)-1;var right_index=Math.round((ranges.max_x-ranges.min_x)/2)+1;//keys left\nfor(var _i=ranges.min_x;_i<=key;_i++){if(this.state.data_map_area_DATES[_i]!==undefined){left_index=_i;}}//keys right\nfor(var _i2=key;_i2<=ranges.max_x;_i2++){if(this.state.data_map_area_DATES[_i2]!==undefined){right_index=_i2;}}//index difference\nthis.setState({mark_line:{pos:x},info_box:{pos_x:x,pos_y:y,value_x:this.state.data_map_area_DATES[key][1],value_y:this.state.data_map_area_DATES[key],colors:_get_random_colors(this.props.number_of_series)}});if(this.state.info_box.visibility==='hidden'||this.state.info_box.visibility===undefined){this.setState({mark_line:{pos:x}});}}else if(key!==undefined){////////////////////////////\nvar _left_index=key-1;var _right_index=key+1;//keys left\nfor(var _i3=key;_i3>=0;_i3--){if(this.state.data_map_area_DATES[_i3]!==undefined){_left_index=_i3;break;}}//keys right\nfor(var _i4=key;_i4<=ranges.max_x;_i4++){if(this.state.data_map_area_DATES[_i4]!==undefined){_right_index=_i4;break;}}//index difference\nvar left_diff=key-_left_index;var right_diff=_right_index-key;if(this.state.data_map_area_DATES[_left_index]!==undefined&&this.state.data_map_area_DATES[_right_index]!==undefined){if(left_diff<=right_diff){this.setState({mark_line:{pos:x},info_box:{pos_x:x,pos_y:y,value_x:this.state.data_map_area_DATES[key][1],value_y:this.state.data_map_area_DATES[key],colors:_get_random_colors(this.props.number_of_series)}});if(this.state.info_box.visibility==='hidden'||this.state.info_box.visibility===undefined){this.setState({mark_line:{pos:x}});}}else{this.setState({mark_line:{pos:x},info_box:{pos_x:x,pos_y:y,value_x:this.state.data_map_area_DATES[key][1],value_y:this.state.data_map_area_DATES[key],colors:_get_random_colors(this.props.number_of_series)}});if(this.state.info_box.visibility==='hidden'||this.state.info_box.visibility===undefined){this.setState({mark_line:{pos:x}});}}}/////////////////\n}}else if(x>this.state.dimensions.width||y>this.state.dimensions.height||x<this.state.dimensions.x_trans||y<this.state.dimensions.y_trans){this.setState({mark_line:{visibility:\"hidden\",pos:9999},info_box:{visibility:\"hidden\",pos_x:9999,pos_y:9999,colors:_get_random_colors(this.props.number_of_series)}});}}},{key:\"handleHoverOff\",value:function handleHoverOff(event){this.setState({mark_line:{pos:0,visibility:\"hidden\"},info_box:{pos_x:0,pos_y:0,visibility:\"hidden\",colors:_get_random_colors(this.props.number_of_series)}});}},{key:\"render\",value:function render(){var _this2=this;// console.log(this.props.keywords)\n// console.log(\"$$$$$\")\n// console.log(this.state.dimensions)\n// console.log(this.state.scaled_forecasted_data)\nvar area_paths=this.state.scaled_historical_data.map(function(entity,index){return React.createElement(Area_Path,{key:index,data:entity,color:_this2.state.colors[index],style:\"none\"});});var area_paths_future=this.state.scaled_forecasted_data.map(function(entity,index){return React.createElement(Area_Path,{key:index,data:entity,color:_this2.state.colors[index],style:\"dash\"});});var v_b=\"0 0 \"+this.state.dimensions.width2+\" \"+this.props.height;var v_trans=\"translate(\"+this.state.dimensions.x_trans+\",\"+this.state.dimensions.y_trans+\")\";return React.createElement(\"div\",{ref:this.divRef},React.createElement(\"svg\",{version:\"1.1\",xmlns:\"http://www.w3.org/2000/svg\",preserveAspectRatio:\"none\",onMouseMove:this.handleMouseMove,onMouseLeave:this.handleHoverOff,className:\"test_plot\",width:this.state.dimensions.width2,height:this.props.height,viewBox:v_b},React.createElement(\"g\",null,React.createElement(\"g\",{transform:v_trans},area_paths,area_paths_future,React.createElement(Plot,{dimensions:this.state.dimensions,y_number:this.state.y_number,title:this.state.title}),React.createElement(AxisX,{dimensions:this.state.dimensions,x_label:this.state.x_label,ticks:10,dates:this.state.data_map_area_DATES}),React.createElement(Legend,{dimensions:this.state.dimensions,colors:this.state.colors,keywords:this.props.keywords}),React.createElement(Static_Line,{dimensions:this.state.dimensions,ranges:ranges}),React.createElement(Pointer_Line,{mark_line:this.state.mark_line,height:this.state.dimensions.height}),React.createElement(Info_Box,{info_box:this.state.info_box,width:dimensions.box_width,height:this.state.info_box_height,keywords:this.props.keywords})))));}}]);return Test_Plot_Dates;}(React.Component);export default Test_Plot_Dates;","map":{"version":3,"sources":["/Users/marcin/workspace/react/flask-react-app/client/src/Test_Plot_Dates.js"],"names":["React","get_random_colors","get_box_height","get_data_mocks_area_DATES","scale_data_mocks","get_data_map_area_DATES","get_historical_dates","get_forecasted_dates","get_random_mock_area_array_dates","appConfig","AxisX","AxisY","Legend","Static_Line","Pointer_Line","Info_Box","Area_Path","Plot","dimensions","ranges","ranges_dates","number_of_plots","array_length_dates","array_length_dates_forecast","historical_mock1","historical_mock2","forecasted_mock1","forecasted_mock2","historical_data_mock","forecasted_data_mock","i","length","unshift","Test_Plot_Dates","props","handleMouseMove","bind","handleHoverOff","updateWindowDimensions","x_trans","y_trans","width","window","innerWidth","height","divRef","createRef","state","title","options","y_number","ticks_number","x_label","y_label","mark_line","pos","visibility","info_box","pos_x","pos_y","colors","number_of_series","scaled_historical_data","historical_data","forecasted_data","scaled_forecasted_data","data_map_area_DATES","info_box_height","number","width2","historical_data_length","forecasted_data_length","addEventListener","current","focus","removeEventListener","div_width2","clientWidth","div_width","setState","data","event","e","target","dim","getBoundingClientRect","x","clientX","left","y","clientY","top","x_diff","max_x","min_x","x_frame","key","Math","round","undefined","left_index","right_index","value_x","value_y","left_diff","right_diff","area_paths","map","entity","index","area_paths_future","v_b","v_trans","keywords","box_width","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport { get_random_colors, get_box_height, get_data_mocks_area_DATES, scale_data_mocks, get_data_map_area_DATES, get_historical_dates, get_forecasted_dates, get_random_mock_area_array_dates} from './utils_dates/functions'\nimport { appConfig } from './utils_dates/config.js';\n\nimport AxisX from './components/AxisX';\nimport AxisY from './components/AxisY';\nimport Legend from './components/Legend';\nimport Static_Line from './components/Static_Line';\nimport Pointer_Line from './components/Pointer_Line';\nimport Info_Box from './components/Info_Box';\nimport Area_Path from './components/Area_Path';\nimport Plot from './components/Plot';\n\n\nlet dimensions = appConfig.dimensions;\nlet ranges = appConfig.ranges_dates;\nlet number_of_plots = appConfig.number_of_plots;\nlet array_length_dates = appConfig.array_length_dates + appConfig.array_length_dates_forecast;\n\n// dimensions.box_height = get_box_height(number_of_plots);\n\nlet historical_mock1 = get_random_mock_area_array_dates(get_historical_dates(),10,30)\nlet historical_mock2 = get_random_mock_area_array_dates(get_historical_dates(),40,80)\n\nlet forecasted_mock1 = get_random_mock_area_array_dates(get_forecasted_dates(),10,30)\nlet forecasted_mock2 = get_random_mock_area_array_dates(get_forecasted_dates(),40,80)\n\nlet historical_data_mock = [historical_mock1, historical_mock2]\nlet forecasted_data_mock = [forecasted_mock1, forecasted_mock2]\n\nfor(let i=0;i<historical_data_mock.length; i++){\n  forecasted_data_mock[i].unshift(historical_data_mock[i][historical_data_mock[i].length - 1])\n}\n\nclass Test_Plot_Dates extends React.Component {\t\n\n  constructor(props) {\n    super(props);\n\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleHoverOff = this.handleHoverOff.bind(this);\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n\n    let x_trans = 85;\n    let y_trans = 85;\n    let width = window.innerWidth*(0.6) - 2*x_trans;\n    let height = this.props.height - 2*y_trans;\n\n    this.divRef = React.createRef();\n\n    this.state = {\n        title: this.props.options.title,\n        y_number: 10,\n        ticks_number: array_length_dates,\n        x_label: this.props.options.x_label,\n        y_label: this.props.options.y_label,\n        mark_line: {\n          pos: 0,\n          visibility: \"hidden\"\n        },\n        info_box: {\n          pos_x: 0,\n          pos_y: 0,\n          visibility: \"hidden\",\n          colors: get_random_colors(this.props.number_of_series),\n        },\n       scaled_historical_data: this.scale_data_mocks(this.props.historical_data, this.props.forecasted_data, ranges, width, height, this.props.number_of_series)[0],\n       scaled_forecasted_data: this.scale_data_mocks(this.props.historical_data, this.props.forecasted_data, ranges, width, height, this.props.number_of_series)[1],\n\n      //  scaled_historical_data: this.scale_data_mocks(historical_data_mock, forecasted_data_mock, ranges, width, height, 2)[0],\n      //  scaled_forecasted_data: this.scale_data_mocks(historical_data_mock, forecasted_data_mock, ranges, width, height, 2)[1],\n\n       data_map_area_DATES: this.get_data_map_area_DATES(this.props.historical_data, this.props.forecasted_data, array_length_dates, this.props.number_of_series),\n      //  data_map_area_DATES: this.get_data_map_area_DATES(historical_data_mock, forecasted_data_mock, array_length_dates, 2),\n\n       colors: this.get_random_colors(this.props.number_of_series),\n       info_box_height: this.get_box_height(this.props.number_of_series),\n       number: this.props.number_of_series,\n       dimensions: {\n        width2: width,\n        width: width/1.1,\n        height: height,\n        x_trans: x_trans,\n        y_trans: y_trans,\n        historical_data_length: appConfig.array_length_dates,\n        forecasted_data_length: appConfig.array_length_dates_forecast,\n       }\n    };\n  }\n\n\n  componentDidMount() {\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n    this.divRef.current.focus();\n  }\n  \n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n\n  scaling(){\n\n  }\n  \n  updateWindowDimensions() {\n    \n    let div_width2 = this.divRef.current.clientWidth;\n\n    let x_trans = this.props.x_trans;\n    let y_trans = this.props.y_trans;\n\n    let div_width = div_width2 - 2*x_trans;\n    let height = this.props.height - 2*y_trans;\n\n    this.setState({\n      dimensions: {\n        width2: div_width2,\n        width: div_width,\n        height: this.props.height - 2*y_trans,\n        x_trans: x_trans,\n        y_trans: y_trans,\n        historical_data_length: appConfig.array_length_dates,\n        forecasted_data_length: appConfig.array_length_dates_forecast,\n       },\n       scaled_historical_data: this.scale_data_mocks(this.props.historical_data, this.props.forecasted_data, ranges, div_width, height, this.props.number_of_series)[0],\n       scaled_forecasted_data: this.scale_data_mocks(this.props.historical_data, this.props.forecasted_data, ranges, div_width, height, this.props.number_of_series)[1],\n\n      //  scaled_historical_data: this.scale_data_mocks(historical_data_mock, forecasted_data_mock, ranges, div_width, height, 2)[0],\n      //  scaled_forecasted_data: this.scale_data_mocks(historical_data_mock, forecasted_data_mock, ranges, div_width, height, 2)[1],\n       \n    });\n  }\n\n  scale_data_mocks(data, forecasted_data, ranges, width, height , number_of_series){\n    return scale_data_mocks(data, forecasted_data, ranges, width, height , number_of_series)\n  }\n\n  get_data_map_area_DATES(data, forecasted_data, array_length_dates, number_of_series){\n    return get_data_map_area_DATES(get_data_mocks_area_DATES(data, forecasted_data, number_of_series), array_length_dates, number_of_series)\n  }\n\n  get_random_colors(number_of_series){\n    return get_random_colors(number_of_series)\n  }\n\n  get_box_height(number_of_series){\n    return get_box_height(number_of_series)\n  }\n\n\n  handleMouseMove(event) {\n    var e = event.target;\n    var dim = e.getBoundingClientRect();\n    var x = event.clientX - dim.left - this.state.dimensions.x_trans;\n    var y = event.clientY - dim.top - this.state.dimensions.y_trans;\n\n    // console.log(x)\n    // console.log(this.state.dimensions)\n\n\n    if(x >= 0 && y >= 0 && x <= this.state.dimensions.width && y <= this.state.dimensions.height){\n\n      let x_diff = ranges.max_x - ranges.min_x;  \n      let x_frame = this.state.dimensions.width/x_diff;\n      let key = Math.round((x)/x_frame);\n\n      if (this.state.data_map_area_DATES[key] !== undefined){\n\n        let left_index = Math.round((ranges.max_x - ranges.min_x)/2) - 1;\n        let right_index = Math.round((ranges.max_x - ranges.min_x)/2) + 1;\n\n        //keys left\n        for(let i=ranges.min_x; i<=key; i++){\n          if(this.state.data_map_area_DATES[i] !== undefined){\n            left_index = i\n          }\n        }\n\n        //keys right\n        for(let i=key; i<=ranges.max_x; i++){\n          if(this.state.data_map_area_DATES[i] !== undefined){\n            right_index = i\n          }\n        }\n    \n        //index difference\n        this.setState({\n          mark_line: {\n            pos: x,  \n          },\n          info_box: {\n            pos_x: x,\n            pos_y: y,\n            value_x: this.state.data_map_area_DATES[key][1],\n            value_y: this.state.data_map_area_DATES[key],\n            colors: get_random_colors(this.props.number_of_series)\n          }\n        })\n        if (this.state.info_box.visibility === 'hidden' || this.state.info_box.visibility === undefined) {\n          this.setState({\n            mark_line: {\n              pos: x\n            }\n          })\n        }\n      } else if (key !== undefined){\n////////////////////////////\n\n        let left_index = key - 1;\n        let right_index = key + 1;\n        \n        //keys left\n        for (let i=key; i>=0; i--) {\n          if(this.state.data_map_area_DATES[i] !== undefined){\n            left_index = i;\n            break;\n          }\n        }\n\n        //keys right\n        for (let i=key; i<=ranges.max_x; i++) {\n          if(this.state.data_map_area_DATES[i] !== undefined) {\n            right_index = i;\n            break;\n          }\n        }\n\n        //index difference\n        let left_diff = key - left_index;\n        let right_diff = right_index - key;\n\n\n        if((this.state.data_map_area_DATES[left_index] !== undefined) && (this.state.data_map_area_DATES[right_index] !== undefined)){\n          if (left_diff<=right_diff ) {\n            this.setState({\n              mark_line: {\n                pos: x,  \n              },\n              info_box: {\n                pos_x: x,\n                pos_y: y,\n                value_x: this.state.data_map_area_DATES[key][1],\n                value_y: this.state.data_map_area_DATES[key],\n                colors: get_random_colors(this.props.number_of_series)\n              }\n            })\n            if (this.state.info_box.visibility === 'hidden' || this.state.info_box.visibility === undefined) {\n              this.setState({\n                mark_line: {\n                  pos: x\n                }\n              })\n            }\n          } else {\n            this.setState({\n              mark_line: {\n                pos: x,  \n              },\n              info_box: {\n                pos_x: x,\n                pos_y: y,\n                value_x: this.state.data_map_area_DATES[key][1],\n                value_y: this.state.data_map_area_DATES[key],\n                colors: get_random_colors(this.props.number_of_series)\n              }\n            })\n            if (this.state.info_box.visibility === 'hidden' || this.state.info_box.visibility === undefined) {\n              this.setState({\n                mark_line: {\n                  pos: x\n                }\n              })\n            }\n          }\n\n        }\n/////////////////\n\n      }\n    } else if (x > this.state.dimensions.width || y > this.state.dimensions.height || x < this.state.dimensions.x_trans || y < this.state.dimensions.y_trans){\n      this.setState({\n        mark_line: {\n          visibility: \"hidden\",\n          pos: 9999\n        },\n        info_box: {\n          visibility: \"hidden\",\n          pos_x: 9999,\n          pos_y: 9999,\n          colors: get_random_colors(this.props.number_of_series)\n        }\n      })\n    }\n  }\n  \n\n  handleHoverOff(event) {\n    this.setState({\n      mark_line:{\n          pos: 0,\n          visibility: \"hidden\"\n      },\n      info_box: {\n        pos_x: 0,\n        pos_y: 0,\n        visibility: \"hidden\",\n        colors: get_random_colors(this.props.number_of_series)\n      }\n    })\n  }\n\n  render() {\n\n    // console.log(this.props.keywords)\n    // console.log(\"$$$$$\")\n    // console.log(this.state.dimensions)\n    // console.log(this.state.scaled_forecasted_data)\n\n    let area_paths = this.state.scaled_historical_data.map(( entity, index ) => {\n      return (\n        <Area_Path key={index} data={entity} color={this.state.colors[index]} style={\"none\"} />\n      );\n    });\n\n    let area_paths_future = this.state.scaled_forecasted_data.map(( entity, index ) => {\n      return (\n        <Area_Path key={index} data={entity} color={this.state.colors[index]} style={\"dash\"} />\n      );\n    });\n\n    let v_b = \"0 0 \" + this.state.dimensions.width2 + \" \" + this.props.height;\n    let v_trans = \"translate(\" + this.state.dimensions.x_trans + \",\" + this.state.dimensions.y_trans + \")\";\n\n    return (\n      <div ref={this.divRef}>\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"none\" onMouseMove={this.handleMouseMove} onMouseLeave={this.handleHoverOff} className=\"test_plot\" width={this.state.dimensions.width2} height={this.props.height} viewBox={v_b}>\n          {/* <rect fill=\"#ffffff\" className=\"\" x=\"0\" y=\"0\" width={dimensions.width} height={dimensions.height} rx=\"0\" ry=\"0\"></rect>  */}\n            <g>\n              <g transform={v_trans}>\n\n                { area_paths }\n\n                { area_paths_future }\n                \n                <Plot dimensions={this.state.dimensions} y_number={this.state.y_number} title={this.state.title} />\n\n                {/* <AxisY dimensions={this.state.dimensions} y_number={this.state.y_number} y_label={this.state.y_label} /> */}\n\n                <AxisX dimensions={this.state.dimensions} x_label={this.state.x_label} ticks={10} dates={this.state.data_map_area_DATES} />\n                \n                <Legend dimensions={this.state.dimensions} colors={this.state.colors} keywords={this.props.keywords} />\n\n                <Static_Line dimensions={this.state.dimensions} ranges={ranges} />\n\n                <Pointer_Line mark_line={this.state.mark_line} height={this.state.dimensions.height} />\n\n                <Info_Box info_box={this.state.info_box} width={dimensions.box_width} height={this.state.info_box_height} keywords={this.props.keywords}  />\n                \n              </g>\n            </g>\n        </svg>\n      </div>\n    );\n  }\n}\n\nexport default Test_Plot_Dates;\n"]},"metadata":{},"sourceType":"module"}