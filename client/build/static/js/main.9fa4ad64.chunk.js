(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){"use strict";function n(e){return function(e){for(var t=e.toLowerCase().split(" "),a=0;a<t.length;a++)t[a]=t[a].charAt(0).toUpperCase()+t[a].substring(1);return t.join(" ")}(e)}function s(e){for(var t=100,a=0;a<e.length;a++)for(var n=0;n<e[a].length-2;n++)null!==e[a][n][3]&&e[a][n][3]<t&&(t=e[a][n][3]);return t}function r(e){for(var t=0,a=0;a<e.length;a++)for(var n=0;n<e[a].length-2;n++)null!==e[a][n][4]&&e[a][n][4]>t&&(t=e[a][n][4]);return t}a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return r}))},23:function(e,t,a){e.exports=a(59)},27:function(e,t,a){e.exports=a(60)},32:function(e,t,a){},37:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(24),s=a(26),r=a(0),i=a.n(r),o=a(8),l=a(9),c=a(12),u=a(10),d=a(6),h=a(11);a(37);function m(e){return["#a2cd9f","#6ef4ef","#ea6e2e","#6e224c","#edfc35","",""].slice(0,e)}function _(e,t,a,n){for(var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=[],i=a/(Math.abs(t.max_x-t.min_x)-1),o=n/Math.abs(t.max_y-t.min_y),l=0;l<e.length;l++)r.push([(l+s)*i,e[l][1],n-e[l][2]*o+o*t.min_y,n-e[l][3]*o+o*t.min_y,n-e[l][4]*o+o*t.min_y]);return r}function p(e){for(var t=100,a=0;a<e.length;a++)for(var n=0;n<e[a].length-2;n++)null!==e[a][n][3]&&e[a][n][3]<t&&(t=e[a][n][3]);return t}function f(e){for(var t=0,a=0;a<e.length;a++)for(var n=0;n<e[a].length-2;n++)null!==e[a][n][4]&&e[a][n][4]>t&&(t=e[a][n][4]);return t}var v={dimensions:{box_width:400,box_height:120},number_of_plots:5,ranges_dates:{max_x:313,min_x:0,max_y:110,min_y:-10},array_length_dates:261,array_length_dates_forecast:52,KEYWORDS_URL:"http://0.0.0.0:5000"},y=function(e){var t=e.ticks+1;return e.dimensions.width<=700&&(t=7),i.a.createElement("g",null,function(e,t,a){for(var n=[],s=e/(a-1),r=0;r<a;r++){var i=s*r;n.push(g(i,t))}return n}(e.dimensions.width,e.dimensions.height,t),function(e,t,a,n,s,r){var o=[],l=Object.keys(n).length,c=Math.floor(l/(a-1)),u=e/(a-1);if(e<=700)for(var d=0;d<a;d++)o.push(i.a.createElement("text",{key:d,x:u*d,class:"plot_xtick","text-anchor":"middle",y:t+25},w(n[c*d][1])));else for(var h=0;h<a;h++)o.push(i.a.createElement("text",{key:h,x:u*h,class:"plot_xtick","text-anchor":"middle",y:t+25},b(n[c*h][1])));var m="M 0 ".concat(t," H ").concat(e),_=r;e>700?o.push(i.a.createElement("text",{key:t,x:e/2,"text-anchor":"middle",class:"plot_xaxis_title",y:t+_-30},i.a.createElement("tspan",null,s))):o.push(i.a.createElement("text",{key:t,x:e/2,"text-anchor":"middle",class:"plot_xaxis_title",y:t+40},i.a.createElement("tspan",null,s)));return o.push(i.a.createElement("path",{key:t,d:m,fill:"none",class:"plot_line","data-z-index":"0"})),o}(e.dimensions.width,e.dimensions.height,t,e.dates,e.x_label,e.dimensions.y_trans2))};function g(e,t){var a="M ".concat(e," ").concat(t," L ").concat(e," ").concat(t+10);return i.a.createElement("path",{key:e,class:"plot_xmark",d:a,"data-z-index":"0"})}function b(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1;return a<10&&(a="0"+a),n<10&&(n="0"+n),a+"-"+n+"-"+t.getFullYear()}function w(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1;return a<10&&(a="0"+a),n<10&&(n="0"+n),n+"-"+t.getFullYear()}var x=function(e){for(var t=[],a=e.upper_bound/10,n=e.lower_bound/10,s=a-n,r=e.dimensions.height/s,o=n;o<=a;o++)t.push(k(-20,e.dimensions.height-r*(o-n),10*o));var l="M ".concat(0," ").concat(0," L ").concat(0," ").concat(0+e.dimensions.height);return i.a.createElement("g",null,i.a.createElement("g",{transform:"translate(".concat(-(e.dimensions.x_trans/2+10),",").concat(e.dimensions.height/2,")")},i.a.createElement("text",{x:"0",textAnchor:"middle",transform:"rotate(-90 0,0)",class:"plot_yaxis_title",y:"0"},i.a.createElement("tspan",null,e.y_label))),function(e,t){for(var a=[],n=e/t,s=0;s<=t;s++){var r=n*s;a.push(E(0,r))}return a}(e.dimensions.height,e.y_number),t,i.a.createElement("path",{d:l,fill:"none",class:"plot_line","data-z-index":"0"}))};function k(e,t,a){return i.a.createElement("text",{x:e,textAnchor:"end",class:"plot_ytick",y:t},a)}function E(e,t){var a="M ".concat(e-10," ").concat(t," L ").concat(e," ").concat(t);return i.a.createElement("path",{d:a,fill:"none",class:"plot_line","data-z-index":"0"})}var O=a(13),D=function(e){return i.a.createElement("g",null,function(e,t,a){var n=[],s=[];if(e.width2>700){for(var r=0;r<t.length;r++){var o=j(a[r].length),l=s.reduce((function(e,t){return e+t}),0);n.push(i.a.createElement("g",{key:r,"data-z-index":"1",transform:"translate(".concat(l,",3)")},i.a.createElement("path",{fill:"none",d:"M 0 11 L 30 11",stroke:t[r],"stroke-width":"0"}),i.a.createElement("text",{x:"35",textAnchor:"start","data-z-index":"0",y:"15",fontSize:"12px",stroke:"#6c757d","stroke-width":"0"},Object(O.a)(a[r])))),s.push(o)}var c=s.reduce((function(e,t){return e+t}),0),u=e.width2/2-c/2-e.x_trans,d=(e.height,e.y_trans);return e.height+e.y_trans-e.y_trans2,d=e.height+e.y_trans-25,i.a.createElement("g",{transform:"translate(".concat(u,", ").concat(d,")"),class:"plot_legend"},n)}for(var h=0;h<a.length;h++){var m=j(a[h].length);s.push(m)}for(var _=0;_<t.length;_++){var p=Math.max.apply(Math,s);n.push(i.a.createElement("g",{"data-z-index":"1",transform:"translate(".concat(e.width/2-p/2,", ").concat(18*_+10,")")},i.a.createElement("path",{fill:"none",d:"M 0 11 L 30 11",stroke:t[_],"stroke-width":"0"}),i.a.createElement("text",{x:"35",textAnchor:"start","data-z-index":"0",y:"15","font-size":"12px",stroke:"#6c757d","stroke-width":"0"},Object(O.a)(a[_]))))}var f=e.height+43;return i.a.createElement("g",{transform:"translate(".concat(0,", ",f,")"),class:"plot_legend"},n)}(e.dimensions,e.colors,e.keywords))};function j(e){return 5*e+55}var M=function(e){var t=e.dimensions.width/(e.ranges.max_x-1)*(e.dimensions.historical_data_length-1);return i.a.createElement("g",null,i.a.createElement("path",{fill:"none",class:"plot_pointer_line",d:"M ".concat(t," 0 L ").concat(t," ").concat(e.dimensions.height),"stroke-dasharray":"6","data-z-index":"0"}))},A=function(e){return i.a.createElement("g",{transform:"translate(".concat(e.mark_line.pos,", 0)")},i.a.createElement("path",{fill:"none","data-z-index":"0",class:"plot_mark_line",d:"M 0 0 L 0 ".concat(e.height),visibility:"mark_line.visibility"}))},S=function(e){return i.a.createElement("g",null,function(e,t,a,n){var s=[];if(void 0!==e&&void 0!==e.value_y)for(var r=0;r<e.colors.length;r++)null!==e.value_y[3][r]&&null!==e.value_y[2][r]?s.push(i.a.createElement("g",null,i.a.createElement("path",{fill:"none",d:"M 5 ".concat(25*(r+1)+22," L 20 ").concat(25*(r+1)+22),stroke:e.colors[r],strokeWidth:"2",opacity:"1"}),i.a.createElement("text",{x:"25",y:25*(r+1)+25},Object(O.a)(n[r])," ",e.value_y[2][r].toFixed(1)," (min: ",e.value_y[3][r].toFixed(1)," | max: ",e.value_y[4][r].toFixed(1),")"))):s.push(i.a.createElement("g",null,i.a.createElement("path",{fill:"none",d:"M 5 ".concat(25*(r+1)+22," L 20 ").concat(25*(r+1)+22),stroke:e.colors[r],strokeWidth:"2",opacity:"1"}),i.a.createElement("text",{x:"25",y:25*(r+1)+25},Object(O.a)(n[r])," ",e.value_y[2][r].toFixed(1))));var o=function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,s=t.getFullYear();a<10&&(a="0"+a);n<10&&(n="0"+n);return e=a+"-"+n+"-"+s}(e.value_x);return i.a.createElement("g",{transform:"translate(".concat(e.pos_x,", ").concat(e.pos_y,")"),"data-z-index":"1",class:"plot_info_box",visibility:e.visibility},i.a.createElement("rect",{x:"0",y:"0",width:t,height:a}),i.a.createElement("g",{class:"plot_info_box_header"},i.a.createElement("text",{x:"5",y:"25"},"Date: ",o)),s)}(e.info_box,e.width,e.height,e.keywords))};var C=function(e){return"dash"===e.style?i.a.createElement("g",null,N(e.data,e.color,4)):i.a.createElement("g",null,N(e.data,e.color,0,e.slice))},F=function(e,t,a,n){var s=e.reduce((function(e,t,a,n){return 0===a?"M ".concat(t[0],",").concat(t[2]):"".concat(e," ").concat(T(t,a,n))}),"");return i.a.createElement("path",{d:s,fill:"none",stroke:a,strokeWidth:"2","data-z-index":"0","stroke-dasharray":n,"pointer-events":"none"})},L=function(e,t,a){var n=e.reduce((function(e,t,a,n){return 0===a?"M ".concat(t[0],",").concat(t[4]):"".concat(e," ").concat(B(t,a,n))}),"");n+=" L ".concat(e[e.length-1][0]," ").concat(e[e.length-1][3],"  ");var s=e.reverse().reduce((function(e,t,a,n){return 0===a?"L ".concat(t[0],",").concat(t[3]):"".concat(e," ").concat(P(t,a,n))}),""),r=n+(s+=" L ".concat(e[e.length-1][0]," ").concat(e[e.length-1][4],"  "));return i.a.createElement("path",{d:r,fill:a,stroke:a,"stroke-width":"2","data-z-index":"0","pointer-events":"none",opacity:"0.35"})},R=function(e){return"L ".concat(e[0]," ").concat(e[2])};function N(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=[];return s.push(F(e,R,t,a)),s.push(L(e.slice(n),T,t)),s}var W=function(e,t,a,n){var s=function(e,t){var a=t[0]-e[0],n=t[2]-e[2];return{length:Math.sqrt(Math.pow(a,2)+Math.pow(n,2)),angle:Math.atan2(n,a)}}(t||e,a||e),r=s.angle+(n?Math.PI:0),i=.2*s.length;return[e[0]+Math.cos(r)*i,e[2]+Math.sin(r)*i]},T=function(e,t,a){var n=W(a[t-1],a[t-2],e),s=W(e,a[t-1],a[t+1],!0);return"C ".concat(n[0],",").concat(n[1]," ").concat(s[0],",").concat(s[1]," ").concat(e[0],",").concat(e[2])},B=function(e,t,a){var n=z(a[t-1],a[t-2],e),s=z(e,a[t-1],a[t+1],!0);return"C ".concat(n[0],",").concat(n[1]," ").concat(s[0],",").concat(s[1]," ").concat(e[0],",").concat(e[4])},P=function(e,t,a){var n=U(a[t-1],a[t-2],e),s=U(e,a[t-1],a[t+1],!0);return"C ".concat(n[0],",").concat(n[1]," ").concat(s[0],",").concat(s[1]," ").concat(e[0],",").concat(e[3])},U=function(e,t,a,n){var s=function(e,t){var a=t[0]-e[0],n=t[3]-e[3];return{length:Math.sqrt(Math.pow(a,2)+Math.pow(n,2)),angle:Math.atan2(n,a)}}(t||e,a||e),r=s.angle+(n?Math.PI:0),i=.2*s.length;return[e[0]+Math.cos(r)*i,e[3]+Math.sin(r)*i]},z=function(e,t,a,n){var s=function(e,t){var a=t[0]-e[0],n=t[4]-e[4];return{length:Math.sqrt(Math.pow(a,2)+Math.pow(n,2)),angle:Math.atan2(n,a)}}(t||e,a||e),r=s.angle+(n?Math.PI:0),i=.2*s.length;return[e[0]+Math.cos(r)*i,e[4]+Math.sin(r)*i]},G=function(e){return i.a.createElement("g",null,i.a.createElement("text",{x:e.dimensions.width/2,class:"plot_title",textAnchor:"middle",y:-e.dimensions.y_trans/3},e.title))},K=v.dimensions,I=v.array_length_dates+v.array_length_dates_forecast,H=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleMouseMove=a.handleMouseMove.bind(Object(d.a)(a)),a.handleHoverOff=a.handleHoverOff.bind(Object(d.a)(a)),a.updateWindowDimensions=a.updateWindowDimensions.bind(Object(d.a)(a));var n=.6*window.innerWidth-170,s=a.props.height-85-85;a.divRef=i.a.createRef();p(a.props.historical_data),f(a.props.historical_data);return a.state={title:a.props.options.title,ticks_number:I,x_label:a.props.options.x_label,y_label:a.props.options.y_label,mark_line:{pos:0,visibility:"hidden"},info_box:{pos_x:0,pos_y:0,visibility:"hidden",colors:m(a.props.number_of_series)},scaled_data:a.scale_data_mocks(a.props.historical_data,a.props.forecasted_data,a.props.ranges,n,s,a.props.number_of_series),data_map_area_DATES:a.get_data_map_area_DATES(a.props.historical_data,a.props.forecasted_data,I,a.props.number_of_series),colors:a.get_random_colors(a.props.number_of_series),info_box_height:a.get_box_height(a.props.number_of_series),number:a.props.number_of_series,dimensions:{width2:n,width:n/1.1,height:s,x_trans:85,y_trans:85,y_trans2:85,historical_data_length:v.array_length_dates,forecasted_data_length:v.array_length_dates_forecast},min_y:p(a.props.historical_data),max_y:f(a.props.historical_data),y_number:12},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions),this.divRef.current.focus()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"scaling",value:function(){}},{key:"updateWindowDimensions",value:function(){var e=this.divRef.current.clientWidth,t=this.props.x_trans,a=this.props.y_trans,n=this.props.x_trans2,s=this.props.y_trans2,r=e-t-n,i=this.props.height-a-s;this.setState({dimensions:{width2:e,width:r,height:i,x_trans:t,y_trans:a,x_trans2:n,y_trans2:s,historical_data_length:v.array_length_dates,forecasted_data_length:v.array_length_dates_forecast},scaled_data:this.scale_data_mocks(this.props.historical_data,this.props.forecasted_data,this.props.ranges,r,i,this.props.number_of_series)})}},{key:"scale_data_mocks",value:function(e,t,a,n,s,r){return function(e,t,a,n,s,r){for(var i=[],o=[],l=0;l<r;l++)i.push(_(e[l],a,n,s)),o.push(_(t[l],a,n,s,e[l].length-1));return[i,o]}(e,t,a,n,s,r)}},{key:"get_data_map_area_DATES",value:function(e,t,a,n){return function(e,t,a){for(var n=[],s=0;s<t-2;s++){var r,i=[],o=[],l=[];r=e[0][s][1];for(var c=0;c<a;c++)i.push(e[c][s][2]),o.push(e[c][s][3]),l.push(e[c][s][4]);n[s]=[s,r,i,o,l]}return n}(function(e,t,a){for(var n=[],s=0;s<a;s++)n.push(e[s].concat(t[s]));return n}(e,t,n),a,n)}},{key:"get_random_colors",value:function(e){return m(e)}},{key:"get_box_height",value:function(e){return 0===(t=e)?0:25*(t+1)+10;var t}},{key:"handleMouseMove",value:function(e){var t=e.target.getBoundingClientRect(),a=e.clientX-t.left-this.state.dimensions.x_trans,n=e.clientY-t.top-this.state.dimensions.y_trans;if(a>=0&&n>=0&&a<=this.state.dimensions.width&&n<=this.state.dimensions.height){var s=this.props.ranges.max_x-this.props.ranges.min_x,r=this.state.dimensions.width/s,i=Math.round(a/r);if(void 0!==this.state.data_map_area_DATES[i]){Math.round((this.props.ranges.max_x-this.props.ranges.min_x)/2),Math.round((this.props.ranges.max_x-this.props.ranges.min_x)/2);for(var o=this.props.ranges.min_x;o<=i;o++)void 0!==this.state.data_map_area_DATES[o]&&o;for(var l=i;l<=this.props.ranges.max_x;l++)void 0!==this.state.data_map_area_DATES[l]&&l;this.setState({mark_line:{pos:a},info_box:{pos_x:a,pos_y:n,value_x:this.state.data_map_area_DATES[i][1],value_y:this.state.data_map_area_DATES[i],colors:m(this.props.number_of_series)}}),"hidden"!==this.state.info_box.visibility&&void 0!==this.state.info_box.visibility||this.setState({mark_line:{pos:a}})}else if(void 0!==i){for(var c=i-1,u=i+1,d=i;d>=0;d--)if(void 0!==this.state.data_map_area_DATES[d]){c=d;break}for(var h=i;h<=this.props.ranges.max_x;h++)if(void 0!==this.state.data_map_area_DATES[h]){u=h;break}void 0!==this.state.data_map_area_DATES[c]&&void 0!==this.state.data_map_area_DATES[u]&&(this.setState({mark_line:{pos:a},info_box:{pos_x:a,pos_y:n,value_x:this.state.data_map_area_DATES[i][1],value_y:this.state.data_map_area_DATES[i],colors:m(this.props.number_of_series)}}),"hidden"!==this.state.info_box.visibility&&void 0!==this.state.info_box.visibility||this.setState({mark_line:{pos:a}}))}}else(a>this.state.dimensions.width||n>this.state.dimensions.height||a<this.state.dimensions.x_trans||n<this.state.dimensions.y_trans)&&this.setState({mark_line:{visibility:"hidden",pos:9999},info_box:{visibility:"hidden",pos_x:9999,pos_y:9999,colors:m(this.props.number_of_series)}})}},{key:"handleHoverOff",value:function(e){this.setState({mark_line:{pos:0,visibility:"hidden"},info_box:{pos_x:0,pos_y:0,visibility:"hidden",colors:m(this.props.number_of_series)}})}},{key:"render",value:function(){var e=this,t=this.state.scaled_data[0].map((function(t,a){return i.a.createElement(C,{key:a,data:t,color:e.state.colors[a],style:"none",slice:4})})),a=this.state.scaled_data[1].map((function(t,a){return i.a.createElement(C,{key:a,data:t,color:e.state.colors[a],style:"dash"})})),n="0 0 "+this.state.dimensions.width2+" "+this.props.height,s="translate("+this.state.dimensions.x_trans+","+this.state.dimensions.y_trans+")",r=this.state.max_y,o=this.state.min_y,l=10*(Math.ceil((o+1)/10)-1),c=10*Math.ceil((Math.abs(r)+1)/10),u=(c-l)/10;return i.a.createElement("div",{ref:this.divRef},i.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",onMouseMove:this.handleMouseMove,onMouseLeave:this.handleHoverOff,className:"test_plot",width:this.state.dimensions.width2,height:this.props.height,viewBox:n},i.a.createElement("g",null,i.a.createElement("g",{transform:s},t,a,i.a.createElement(G,{dimensions:this.state.dimensions,y_number:this.state.y_number,title:this.state.title}),i.a.createElement(x,{dimensions:this.state.dimensions,y_number:u,y_label:this.state.y_label,lower_bound:l,upper_bound:c}),i.a.createElement(y,{dimensions:this.state.dimensions,x_label:this.state.x_label,ticks:12,dates:this.state.data_map_area_DATES}),i.a.createElement(D,{dimensions:this.state.dimensions,colors:this.state.colors,keywords:this.props.keywords}),i.a.createElement(M,{dimensions:this.state.dimensions,ranges:this.props.ranges}),i.a.createElement(A,{mark_line:this.state.mark_line,height:this.state.dimensions.height}),i.a.createElement(S,{info_box:this.state.info_box,width:K.box_width,height:this.state.info_box_height,keywords:this.props.keywords})))))}}]),t}(i.a.PureComponent),Y={KeywordPlot:H};function J(e){var t=Object(r.useState)(!0),a=Object(s.a)(t,2),o=a[0];a[1];return o?i.a.createElement("div",{"aria-busy":"true"},i.a.createElement(Y.KeywordPlot,Object(n.a)({},e))):null}a.d(t,"default",(function(){return J})),J.defaultProps={type:"Puff2",style:{},className:"",visible:!0,timeout:0}},60:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(19),i=a.n(r),o=(a(32),a(7)),l=a(8),c=a(9),u=a(12),d=a(10),h=a(6),m=a(11),_=a(63),p=a(64),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={authenticated:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"myheader"},s.a.createElement(_.a,null,s.a.createElement("b",null,"Hello, ",this.props.username,"\xa0"),s.a.createElement(p.a,{variant:"light",className:"btn-white",type:"submit"},"Logout")))}}]),t}(n.Component),v=[["us",0," All states"],["us-ma",1,"Massachusetts"],["us-wa",2,"Washington"],["us-ca",3,"California"],["us-or",4,"Oregon"],["us-wi",5,"Wisconsin"],["us-me",6,"Maine"],["us-mi",7,"Michigan"],["us-nv",8,"Nevada"],["us-nm",9,"New Mexico"],["us-co",10,"Colorado"],["us-wy",11,"Wyoming"],["us-ks",12,"Kansas"],["us-ne",13,"Nebraska"],["us-ok",14,"Oklahoma"],["us-mo",15,"Missouri"],["us-il",16,"Illinois"],["us-in",17,"Indiana"],["us-vt",18,"Vermont"],["us-ar",19,"Arkansas"],["us-tx",20,"Texas"],["us-ri",21,"Rhode Island"],["us-al",22,"Alabama"],["us-ms",23,"Mississippi"],["us-nc",24,"North Carolina"],["us-va",25,"Virginia"],["us-ia",26,"Iowa"],["us-md",27,"Maryland"],["us-de",28,"Delaware"],["us-pa",29,"Pennsylvania"],["us-nj",30,"New Jersey"],["us-ny",31,"New York"],["us-id",32,"Idaho"],["us-sd",33,"South Dakota"],["us-ct",34,"Connecticut"],["us-nh",35,"New Hampshire"],["us-ky",36,"Kentucky"],["us-oh",37,"Ohio"],["us-tn",38,"Tennessee"],["us-wv",39,"West Virginia"],["us-dc",40,"District of Columbia"],["us-la",41,"Louisiana"],["us-fl",42,"Florida"],["us-ga",43,"Georgia"],["us-sc",44,"South Carolina"],["us-mn",45,"Minnesota"],["us-mt",46,"Montana"],["us-nd",47,"North Dakota"],["us-az",48,"Arizona"],["us-ut",49,"Utah"],["us-hi",50,"Hawaii"],["us-ak",51,"Alaska"]].sort((function(e,t){return(""+e[2]).localeCompare(t[2])})),y=[[0,"Past 5 years","today 5-y"],[1,"Past 12 months","today 12-m"],[2,"Past 1 month","today 1-m"],[3,"Last 7 days","now 7-d"]],g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.selectedState=a.selectedState.bind(Object(h.a)(a)),a.selectedTimeFrame=a.selectedTimeFrame.bind(Object(h.a)(a)),a.state={keywords:[],selected_state_name:v[0][0],selected_time_frame:y[0][2]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){e.preventDefault();var t=this.arrayTrim(this.state.keywords),a=this.state.selected_state_name,n=this.state.selectedTimeFrame;this.props.callbackFromParent(t,a,n)}},{key:"selectedState",value:function(e){this.setState({selected_state_name:e.target.value.split(",")[0]})}},{key:"selectedTimeFrame",value:function(e){this.setState({selected_time_frame:e.target.value.split(",")[2]})}},{key:"handleChange",value:function(e){var t=e.target.value.split(",");this.setState({keywords:t,username:"name"})}},{key:"arrayTrim",value:function(e){return e.map((function(e){return e.trim()}))}},{key:"render",value:function(){var e=v.map((function(e){return s.a.createElement("option",{key:e[1],value:e},e[2])})),t=y.map((function(e){return s.a.createElement("option",{key:e[0],value:e},e[1])}));return s.a.createElement("div",{className:"input_bar input-bar-item width100"},s.a.createElement(_.a,{onSubmit:this.handleClick},s.a.createElement(_.a.Group,{className:"form-inline"},s.a.createElement("div",{className:"keyword_div"},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input_title"},s.a.createElement(_.a.Label,{className:"form-inline mr-1",htmlFor:"keywords_input"},s.a.createElement("h5",null,"Type your keywords:"))),s.a.createElement(_.a.Control,{className:"width100 mr-1 input_keywords",type:"text",placeholder:"Enter keywords",value:this.state.keywords,onChange:this.handleChange,id:"keywords_input"}))),s.a.createElement("div",{className:"timeframe_div"},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input_title"},s.a.createElement(_.a.Label,{className:"form-inline mr-1",htmlFor:"select_timeframe_input"},s.a.createElement("h5",null,"Select time frame:"))),s.a.createElement(_.a.Control,{as:"select",onChange:this.selectedTimeFrame,id:"select_timeframe_input",className:"form-control width100 mr-1 input_timeframe"},t))),s.a.createElement("div",{className:"state_select_div"},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input_title"},s.a.createElement(_.a.Label,{className:"form-inline mr-1",htmlFor:"select_state_input"},s.a.createElement("h5",null,"Select state:"))),s.a.createElement(_.a.Control,{as:"select",onChange:this.selectedState,id:"select_state_input",className:"form-control width100 mr-1 input_state"},e),s.a.createElement("div",{className:"input_button"},s.a.createElement(p.a,{variant:"primary",type:"submit"},"Submit")))))))}}]),t}(n.Component),b=a(62),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(h.a)(a)),a.handleChangeLogin=a.handleChangeLogin.bind(Object(h.a)(a)),a.handleChangePassword=a.handleChangePassword.bind(Object(h.a)(a)),a.state={authenticated:!0,username:"user",password:"user"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){"user"===this.state.username&&"user"===this.state.password&&this.props.callbackFromLogin(this.state)}},{key:"handleChangeLogin",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",{className:"loginform"},s.a.createElement("h2",null,"Login page"),s.a.createElement("br",null),s.a.createElement("h5",null,"Username: user"),s.a.createElement("h5",null,"Password: user"),s.a.createElement("br",null),s.a.createElement(_.a,{onSubmit:this.handleClick},s.a.createElement(_.a.Group,{controlId:"formBasicUsername"},s.a.createElement(_.a.Label,null,"Username"),s.a.createElement(_.a.Control,{type:"text",placeholder:"Enter username",value:this.state.keywords,onChange:this.handleChangeLogin})),s.a.createElement(_.a.Group,{controlId:"formBasicPassword"},s.a.createElement(_.a.Label,null,"Password"),s.a.createElement(_.a.Control,{type:"password",placeholder:"Password",value:this.state.keywords,onChange:this.handleChangePassword})),s.a.createElement(p.a,{variant:"primary",type:"submit"},"Login")))}}]),t}(n.Component),x=a(61),k=a(13),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={data:[],keywords:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.tableData.headers.map((function(e,t){return s.a.createElement("th",{key:t,className:"align-top"},e)})),t=this.props.tableData.data.map((function(e,t){var a=e.map((function(e,t){return null!==e?t>0?s.a.createElement("td",{key:t},e.toFixed(2)):s.a.createElement("td",{key:t},Object(k.a)(e)):s.a.createElement("td",{key:t},"0.00")}));return s.a.createElement("tr",{key:t},s.a.createElement("td",null,t+1),a)}));return s.a.createElement("div",{className:"table_div"},s.a.createElement("span",{className:"center"},s.a.createElement("h3",null,this.props.title)),s.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"align-top"},"#"),s.a.createElement("th",{className:"align-top"},"Keyword"),e)),s.a.createElement("tbody",null,t)))}}]),t}(n.Component),O=a(15),D=a.n(O),j=a(21),M=a.n(j),A=a(22),S=a.n(A),C=a(16);S()(D.a);var F=[["us-ca","#20e012"],["us-or","#20e012"],["us-id","#20e012"],["us-mt","#20e012"],["us-az","#20e012"],["us-nv","#20e012"],["us-wa","#20e012"],["us-ut","#20e012"]],L=[["us-wy","#BADA55"],["us-nd","#BADA55"],["us-sd","#BADA55"],["us-co","#BADA55"],["us-ks","#BADA55"],["us-ky","#BADA55"],["us-in","#BADA55"],["us-wi","#BADA55"],["us-ne","#BADA55"],["us-ia","#BADA55"],["us-mi","#BADA55"],["us-mo","#BADA55"],["us-il","#BADA55"],["us-mn","#BADA55"],["undefined","#BADA55"]],R=[["us-oh","#003fed"],["us-ny","#003fed"],["us-nc","#003fed"],["us-vt","#003fed"],["us-wv","#003fed"],["us-md","#003fed"],["us-de","#003fed"],["us-ri","#003fed"],["us-ma","#003fed"],["us-me","#003fed"],["us-nh","#003fed"],["us-sc","#003fed"],["us-va","#003fed"],["us-nj","#003fed"],["us-dc","#003fed"],["us-ct","#003fed"],["us-pa","#003fed"]],N=[["us-tx","#e08a12"],["us-nm","#e08a12"],["us-tn","#e08a12"],["us-ga","#e08a12"],["us-fl","#e08a12"],["us-ar","#e08a12"],["us-ok","#e08a12"],["us-la","#e08a12"],["us-al","#e08a12"],["us-hi","#e08a12"],["us-ak","#e08a12"],["us-ms","#e08a12"]],W=function(e){function t(e){var a,n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).setHoverData=function(e){n.props.callbackFromApp(e.point["hc-key"])},n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(h.a)(n)),n.state={mapOptions:(a={chart:{height:n.props.height,map:"countries/ie/ie-all",events:{drilldown:function(e){console.log("from drillDown")},drillup:function(){console.log("from drillUp")}},panning:!0,panKey:"shift"},tooltip:{enabled:!0,formatter:function(){return"<b>"+this.point.name+"</b>"}},legend:{layout:"vertical",align:"right",verticalAlign:"middle",enabled:!1},title:{text:null},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:"bottom"}},plotOptions:{map:{states:{color:"#126c31",hover:{color:"#000000",enabled:!0,brightness:.5}}},series:{point:{events:{click:n.setHoverData.bind(Object(h.a)(n))}}}},series:[{data:F.concat(L).concat(R).concat(N),keys:["hc-key","color"],mapData:C,name:" ",dataLabels:{enabled:!0,color:"#FFFFFF",format:"{point.properties.postal-code}"},showInLegend:!1}]},Object(o.a)(a,"legend",{enabled:!0}),Object(o.a)(a,"drilldown",{activeDataLabelStyle:{color:"#FFFFFF",textDecoration:"none",textOutline:"1px #000000"},drillUpButton:{relativeTo:"spacingBox",position:{x:0,y:60}}}),a)},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){var e;this.setState({mapOptions:(e={chart:{height:this.props.height,map:"countries/ie/ie-all",events:{drilldown:function(e){console.log("from drillDown")},drillup:function(){console.log("from drillUp")}},panning:!0,panKey:"shift"},tooltip:{enabled:!0,formatter:function(){return"<b>"+this.point.name+"</b>"}},legend:{layout:"vertical",align:"right",verticalAlign:"middle",enabled:!1},title:{text:null},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:"bottom"}},plotOptions:{map:{states:{color:"#126c31",hover:{color:"#000000",enabled:!0,brightness:.5}}},series:{point:{events:{click:this.setHoverData.bind(this)}}}},series:[{data:F.concat(L).concat(R).concat(N),keys:["hc-key","color"],mapData:C,name:" ",dataLabels:{enabled:!0,color:"#FFFFFF",format:"{point.properties.postal-code}"},showInLegend:!1}]},Object(o.a)(e,"legend",{enabled:!1}),Object(o.a)(e,"drilldown",{activeDataLabelStyle:{color:"#FFFFFF",textDecoration:"none",textOutline:"1px #000000"},drillUpButton:{relativeTo:"spacingBox",position:{x:0,y:60}}}),e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"map_content"},s.a.createElement(M.a,{constructorType:"mapChart",highcharts:D.a,options:this.state.mapOptions}))}}]),t}(s.a.PureComponent),T=a(23),B=a.n(T),P=a(25),U=a.n(P),z=(a(57),a(58),{KEYWORDS_URL:"http://localhost:5000/keywords",KEYWORDS_URL3:"http://localhost:5000/all",KEYWORDS_URL2:"http://0.0.0.0:5000/",KEYWORDS_NEW:"http://0.0.0.0:5000/api",RATE_RANKER_URL:"http://localhost:5000/rateranker",GROWTH_RANKER_URL:"http://localhost:5000/growthranker"}.dimensions),G=["Growth_Rate_0_1","Growth_Rate_0_2","Growth_Rate_0_3","Growth_Rate_1_2","Growth_Rate_2_3"],K=["Projected growth in 5 weeks for US (for all keywords) [%]","Projected growth in 5 weeks for US (for one keyword) [%]"],I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).fetchCallback=function(e,t,n){a.setState({displayResults:!1}),a.fetchData(e,t,n)},a.mapCallback=function(e){console.log("state "+e),a.setState({displayResults:!1}),a.fetchData(a.state.keywords,e,a.state.selected_time_frame)},a.updateWindowDimensions=a.updateWindowDimensions.bind(Object(h.a)(a)),a.state={username:"user",authenticated:!0,displayResults:!1,region_state:"US",selected_time_frame:"today 5-y",keywords:[],options:{title:"Trends Forecast",x_label:"Date",y_label:"Search interest (%)",dimensions:z},historical_data:[],forecasted_data:[],rate_table_data:[],growth_table_data:[],x_trans:85,y_trans:85,fetching_results:!1},a.myRef=s.a.createRef(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"fetchData",value:function(e,t,a){var n=this;this.setState({fetching_results:!0,keywords:e}),fetch("/api",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({keywords:e,region_state:t,time_frame:a})}).then((function(e){return e.json()})).then((function(s){var r,i=n.myRef.current.offsetWidth,l=n.get_dimensions(i);n.setState((r={keywords:e,displayResults:!0,region_state:t,selected_time_frame:a},Object(o.a)(r,"displayResults",!0),Object(o.a)(r,"historical_data",n.get_historical_data(e,s)),Object(o.a)(r,"forecasted_data",n.get_forecasted_data(e,s)),Object(o.a)(r,"rate_table_data",n.getRateTableData(s.growth_rate_result)),Object(o.a)(r,"growth_table_data",n.getGrowthTableData(s.projected_growth_result)),Object(o.a)(r,"div_height",l.height),Object(o.a)(r,"x_trans",l.x_trans),Object(o.a)(r,"y_trans",l.y_trans),Object(o.a)(r,"x_trans2",l.x_trans2),Object(o.a)(r,"y_trans2",l.y_trans2),Object(o.a)(r,"fetching_results",!1),r))})).catch((function(e){}))}},{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions),this.myRef.current.focus()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){var e=this.myRef.current.offsetWidth,t=this.get_dimensions(e);this.setState({div_height:t.height,x_trans:t.x_trans,y_trans:t.y_trans,x_trans2:t.x_trans2,y_trans2:t.y_trans2})}},{key:"render",value:function(){var e={max_x:313,min_x:0,max_y:120,min_y:-10};if(this.state.displayResults){var t=Object(k.c)(this.state.historical_data),a=Object(k.b)(this.state.historical_data),n=10*(Math.ceil((t+1)/10)-1),r=10*Math.ceil((Math.abs(a)+1)/10);e={max_x:this.state.historical_data[0].length+this.state.forecasted_data[0].length,min_x:0,max_y:r,min_y:n}}return this.state.authenticated?s.a.createElement("div",{ref:this.myRef},s.a.createElement("div",{className:"main_results"},this.state.displayResults?s.a.createElement("div",null,s.a.createElement(f,{username:this.state.username}),s.a.createElement(g,{callbackFromParent:this.fetchCallback}),s.a.createElement("div",{className:"results_div"},s.a.createElement("div",{className:"map_div"},s.a.createElement(W,{callbackFromApp:this.mapCallback,height:this.state.div_height})),s.a.createElement("div",{id:"plot_div"},s.a.createElement(B.a,{options:this.state.options,ranges:e,historical_data:this.state.historical_data,forecasted_data:this.state.forecasted_data,number_of_series:this.state.forecasted_data.length,keywords:this.state.keywords,height:this.state.div_height,x_trans:this.state.x_trans,y_trans:this.state.y_trans,x_trans2:this.state.x_trans2,y_trans2:this.state.y_trans2}))),s.a.createElement("div",{className:"tables"},s.a.createElement(b.a,null,s.a.createElement("div",{className:"table-responsive result_table"},s.a.createElement(E,{tableData:this.state.rate_table_data,title:"Growth Rate"})),s.a.createElement("div",{className:"table-responsive result_table"},s.a.createElement(E,{tableData:this.state.growth_table_data,title:"Projected growth"}))),s.a.createElement(b.a,null))):s.a.createElement("div",null,s.a.createElement(f,{username:this.state.username}),s.a.createElement(g,{callbackFromParent:this.fetchCallback}),s.a.createElement("div",{className:"intro"}),this.state.fetching_results?s.a.createElement("div",{className:"spinner"},s.a.createElement(U.a,{type:"Oval",color:"#007bff",height:200,width:200,timeout:3e4})):s.a.createElement("div",null)))):s.a.createElement("div",{ref:this.myRef},s.a.createElement(w,{callbackFromLogin:this.toLoginCallback}))}},{key:"getGrowthTableData",value:function(e){var t=K;return{data:Object.keys(e.Keyword).map((function(a){return[Object(k.a)(e.Keyword[a]),e[t[0]][a],e[t[1]][a]]})),headers:t}}},{key:"getRateTableData",value:function(e){var t=G;return{data:Object.keys(e.Keyword).map((function(a){return[Object(k.a)(e.Keyword[a]),e[t[0]][a],e[t[1]][a],e[t[2]][a],e[t[3]][a],e[t[4]][a]]})),headers:["Growth Rate 1","Growth Rate 2","Growth Rate 3","Growth Rate 4","Growth Rate 5"]}}},{key:"get_historical_data",value:function(e,t){var a=[],n=function(n){var s=0,r=e[n],i=Object.keys(t[r]["5 Day MA for "+r]).map((function(e){return s<4?[s++,new Date(e).valueOf(),t[r][r][e],t[r]["Lower Band for "+r][e],t[r]["Upper Band for "+r][e]]:[s++,new Date(e).valueOf(),t[r]["5 Day MA for "+r][e],t[r]["Lower Band for "+r][e],t[r]["Upper Band for "+r][e]]}));a.push(i)};for(var s in e)n(s);return a}},{key:"get_forecasted_data",value:function(e,t){var a=[],n=function(n){var s=0,r=e[n],i=Object.keys(t[e[n]+"F"][e[n]]).map((function(a){return s<4?[s++,new Date(a).valueOf(),t[e[n]+"F"][r][a],t[e[n]+"F"]["Lower Band for "+r][a],t[e[n]+"F"]["Upper Band for "+r][a]]:[s++,new Date(a).valueOf(),t[e[n]+"F"]["5 Day MA for "+r][a],t[e[n]+"F"]["Lower Band for "+r][a],t[e[n]+"F"]["Upper Band for "+r][a]]}));a.push(i)};for(var s in e)n(s);return a}},{key:"get_dimensions",value:function(e){var t=e/4.5,a=this.state.x_trans,n=this.state.y_trans,s=this.state.x_trans,r=this.state.y_trans;return e>1800&&(t=t,a=80,n=80,s=50,r=80),e<=1800&&(t=1.2*e/4.5,a=80,n=80,s=50,r=80),e<=1600&&(t=1.4*e/4.5,a=80,n=80,s=50,r=80),e<=1400&&(t=1.6*e/4.5,a=70,n=70,s=50,r=70),e<=1200&&(t=1.8*e/4.5,a=60,n=60,s=50,r=70),e<=700&&(t=4*e/4.5,a=60,n=20,s=50,r=14*this.state.keywords.length+80),{height:t,x_trans:a,y_trans:n,x_trans2:s,y_trans2:r}}}]),t}(s.a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.9fa4ad64.chunk.js.map