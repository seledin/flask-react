(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,a){e.exports=a(37)},29:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(18),o=a.n(r),i=(a(29),a(14)),c=a(2),l=a(3),u=a(5),h=a(4),d=a(6),m=a(40),p=a(41),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={authenticated:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"myheader"},s.a.createElement(m.a,null,s.a.createElement("b",null,"Hello, ",this.props.username,"\xa0"),s.a.createElement(p.a,{variant:"light",className:"btn-white",type:"submit"},"Logout")))}}]),t}(n.Component),f=a(10),b=a(20),g=[["us",0," All states"],["us-ma",1,"Massachusetts"],["us-wa",2,"Washington"],["us-ca",3,"California"],["us-or",4,"Oregon"],["us-wi",5,"Wisconsin"],["us-me",6,"Maine"],["us-mi",7,"Michigan"],["us-nv",8,"Nevada"],["us-nm",9,"New Mexico"],["us-co",10,"Colorado"],["us-wy",11,"Wyoming"],["us-ks",12,"Kansas"],["us-ne",13,"Nebraska"],["us-ok",14,"Oklahoma"],["us-mo",15,"Missouri"],["us-il",16,"Illinois"],["us-in",17,"Indiana"],["us-vt",18,"Vermont"],["us-ar",19,"Arkansas"],["us-tx",20,"Texas"],["us-ri",21,"Rhode Island"],["us-al",22,"Alabama"],["us-ms",23,"Mississippi"],["us-nc",24,"North Carolina"],["us-va",25,"Virginia"],["us-ia",26,"Iowa"],["us-md",27,"Maryland"],["us-de",28,"Delaware"],["us-pa",29,"Pennsylvania"],["us-nj",30,"New Jersey"],["us-ny",31,"New York"],["us-id",32,"Idaho"],["us-sd",33,"South Dakota"],["us-ct",34,"Connecticut"],["us-nh",35,"New Hampshire"],["us-ky",36,"Kentucky"],["us-oh",37,"Ohio"],["us-tn",38,"Tennessee"],["us-wv",39,"West Virginia"],["us-dc",40,"District of Columbia"],["us-la",41,"Louisiana"],["us-fl",42,"Florida"],["us-ga",43,"Georgia"],["us-sc",44,"South Carolina"],["us-mn",45,"Minnesota"],["us-mt",46,"Montana"],["us-nd",47,"North Dakota"],["us-az",48,"Arizona"],["us-ut",49,"Utah"],["us-hi",50,"Hawaii"],["us-ak",51,"Alaska"]].sort((function(e,t){return(""+e[2]).localeCompare(t[2])})),v=[[0,"Past 5 years","today 5-y"],[1,"Past 12 months","today 12-m"],[2,"Past 1 month","today 1-m"],[3,"Last 7 days","now 7-d"]],y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(f.a)(a)),a.handleChange=a.handleChange.bind(Object(f.a)(a)),a.selectedState=a.selectedState.bind(Object(f.a)(a)),a.selectedTimeFrame=a.selectedTimeFrame.bind(Object(f.a)(a)),a.state={keywords:[],selected_state_name:g[0][0],selected_time_frame:v[0][2]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.callbackFromParent(this.state)}},{key:"selectedState",value:function(e){this.setState({selected_state_name:e.target.value.split(",")[0]})}},{key:"selectedTimeFrame",value:function(e){this.setState({selected_time_frame:e.target.value.split(",")[2]})}},{key:"handleChange",value:function(e){this.setState({keywords:e.target.value.split(","),username:"name"})}},{key:"render",value:function(){var e=g.map((function(e){return s.a.createElement("option",{key:e[1],value:e},e[2])})),t=v.map((function(e){return s.a.createElement("option",{key:e[0],value:e},e[1])}));return s.a.createElement("div",{className:"input_bar input-bar-item width100"},s.a.createElement(m.a,{onSubmit:this.handleClick},s.a.createElement(m.a.Group,{className:"form-inline"},s.a.createElement(b.a,{sm:"6"},s.a.createElement("div",{className:"input-group"},s.a.createElement(m.a.Label,{className:"form-inline mr-1",htmlFor:"keywords_input"},s.a.createElement("h5",null,"Type your keywords:")),s.a.createElement(m.a.Control,{className:"width100 mr-1",type:"text",placeholder:"Enter keywords",value:this.state.keywords,onChange:this.handleChange,id:"keywords_input"}))),s.a.createElement(b.a,{sm:"3"},s.a.createElement("div",{className:"input-group"},s.a.createElement(m.a.Label,{className:"form-inline mr-1",htmlFor:"select_timeframe_input"},s.a.createElement("h5",null,"Select time frame:")),s.a.createElement(m.a.Control,{as:"select",onChange:this.selectedTimeFrame,id:"select_timeframe_input",className:"form-control width100 mr-1"},t))),s.a.createElement(b.a,{sm:"3"},s.a.createElement("div",{className:"input-group"},s.a.createElement(m.a.Label,{className:"form-inline mr-1",htmlFor:"select_state_input"},s.a.createElement("h5",null,"Select state:")),s.a.createElement(m.a.Control,{as:"select",onChange:this.selectedState,id:"select_state_input",className:"form-control width100 mr-1"},e),s.a.createElement(p.a,{variant:"primary",type:"submit"},"Submit"))))))}}]),t}(n.Component),k=a(13),E=a.n(k),w=a(11),x=a.n(w),O=a(21);a.n(O)()(x.a);n.Component;var j=a(39),D=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(f.a)(a)),a.handleChangeLogin=a.handleChangeLogin.bind(Object(f.a)(a)),a.handleChangePassword=a.handleChangePassword.bind(Object(f.a)(a)),a.state={authenticated:!0,username:"user",password:"user"},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(){"user"===this.state.username&&"user"===this.state.password&&this.props.callbackFromLogin(this.state)}},{key:"handleChangeLogin",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",{className:"loginform"},s.a.createElement("h2",null,"Login page"),s.a.createElement("br",null),s.a.createElement("h5",null,"Username: user"),s.a.createElement("h5",null,"Password: user"),s.a.createElement("br",null),s.a.createElement(m.a,{onSubmit:this.handleClick},s.a.createElement(m.a.Group,{controlId:"formBasicUsername"},s.a.createElement(m.a.Label,null,"Username"),s.a.createElement(m.a.Control,{type:"text",placeholder:"Enter username",value:this.state.keywords,onChange:this.handleChangeLogin})),s.a.createElement(m.a.Group,{controlId:"formBasicPassword"},s.a.createElement(m.a.Label,null,"Password"),s.a.createElement(m.a.Control,{type:"password",placeholder:"Password",value:this.state.keywords,onChange:this.handleChangePassword})),s.a.createElement(p.a,{variant:"primary",type:"submit"},"Login")))}}]),t}(n.Component),M=a(38),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={data:[],keywords:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.tableData.headers.map((function(e,t){return s.a.createElement("th",{key:t},e)})),t=this.props.tableData.data.map((function(e,t){var a=e.map((function(e,t){return s.a.createElement("td",{key:t},e)}));return s.a.createElement("tr",{key:t},s.a.createElement("td",null,t+1),a)}));return s.a.createElement("div",{className:"table_div"},s.a.createElement(M.a,{striped:!0,bordered:!0,hover:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"#"),s.a.createElement("th",null,"Keyword"),e)),s.a.createElement("tbody",null,t)))}}]),t}(n.Component),A=a(22),C=a.n(A),L=a(23);C()(x.a);var T=[["us-ca","#20e012"],["us-or","#20e012"],["us-id","#20e012"],["us-mt","#20e012"],["us-az","#20e012"],["us-nv","#20e012"],["us-wa","#20e012"],["us-ut","#20e012"]],R=[["us-wy","#BADA55"],["us-nd","#BADA55"],["us-sd","#BADA55"],["us-co","#BADA55"],["us-ks","#BADA55"],["us-ky","#BADA55"],["us-in","#BADA55"],["us-wi","#BADA55"],["us-ne","#BADA55"],["us-ia","#BADA55"],["us-mi","#BADA55"],["us-mo","#BADA55"],["us-il","#BADA55"],["us-mn","#BADA55"],["undefined","#BADA55"]],N=[["us-oh","#003fed"],["us-ny","#003fed"],["us-nc","#003fed"],["us-vt","#003fed"],["us-wv","#003fed"],["us-md","#003fed"],["us-de","#003fed"],["us-ri","#003fed"],["us-ma","#003fed"],["us-me","#003fed"],["us-nh","#003fed"],["us-sc","#003fed"],["us-va","#003fed"],["us-nj","#003fed"],["us-dc","#003fed"],["us-ct","#003fed"],["us-pa","#003fed"]],P=[["us-tx","#e08a12"],["us-nm","#e08a12"],["us-tn","#e08a12"],["us-ga","#e08a12"],["us-fl","#e08a12"],["us-ar","#e08a12"],["us-ok","#e08a12"],["us-la","#e08a12"],["us-al","#e08a12"],["us-hi","#e08a12"],["us-ak","#e08a12"],["us-ms","#e08a12"]],F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).setHoverData=function(e){a.props.callbackFromApp(e.point["hc-key"])},a.state={mapOptions:{chart:{height:"64%",map:"countries/ie/ie-all",events:{drilldown:function(e){console.log("from drillDown")},drillup:function(){console.log("from drillUp")}}},tooltip:{enabled:!0},legend:{layout:"vertical",align:"right",verticalAlign:"middle",enabled:!1},title:{text:"Keyword stats per State"},mapNavigation:{enabled:!0,buttonOptions:{verticalAlign:"bottom"}},plotOptions:{map:{states:{color:"#126c31",hover:{color:"#000000",enabled:!0,brightness:.5}}},series:{point:{events:{click:a.setHoverData.bind(Object(f.a)(a))}}}},series:[{data:T.concat(R).concat(N).concat(P),keys:["hc-key","color"],mapData:L,name:"Western US",dataLabels:{enabled:!0,format:"{point.properties.postal-code}"}}],drilldown:{activeDataLabelStyle:{color:"#FFFFFF",textDecoration:"none",textOutline:"1px #000000"},drillUpButton:{relativeTo:"spacingBox",position:{x:0,y:60}}}}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(E.a,{constructorType:"mapChart",highcharts:x.a,options:this.state.mapOptions}))}}]),t}(s.a.Component);a(34);function B(e){return["#a2cd9f","#6ef4ef","#ea6e2e","#6e224c","#edfc35","",""].slice(0,e)}function H(e){return 0===e?0:25*(e+1)+10}function I(e,t,a,n){for(var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=[],o=a/(t.max_x-t.min_x),i=n/(t.max_y-t.min_y),c=0;c<e.length;c++)r.push([(c+s)*o,e[c][1],n-e[c][2]*i,n-e[c][3]*i,n-e[c][4]*i]);return r}var U=function(e,t,a,n){var s=e.reduce((function(e,t,a,n){return 0===a?"M ".concat(t[0],",").concat(t[2]):"".concat(e," ").concat(Y(t,a,n))}),"");return'<path d="'.concat(s,'" fill="none" stroke=').concat(a,' stroke-width=2  data-z-index="0" stroke-dasharray=').concat(n,' pointer-events="none" />')},W=function(e,t,a){var n=e.reduce((function(e,t,a,n){return 0===a?"M ".concat(t[0],",").concat(t[4]):"".concat(e," ").concat(J(t,a,n))}),"");n+=" L ".concat(e[e.length-1][0]," ").concat(e[e.length-1][3],"  ");var s=e.reverse().reduce((function(e,t,a,n){return 0===a?"L ".concat(t[0],",").concat(t[3]):"".concat(e," ").concat(q(t,a,n))}),"");return s+=" L ".concat(e[e.length-1][0]," ").concat(e[e.length-1][4],"  "),'<path d="'.concat(n+s,'" fill=').concat(a," stroke=").concat(a,' stroke-width=2 data-z-index="0" pointer-events="none" opacity="0.35" />')},K=function(e){return"L ".concat(e[0]," ").concat(e[2])};function z(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[];return n.push(U(e,K,t,a)),n.push(W(e,Y,t)),n}var G=function(e,t,a,n){var s=function(e,t){var a=t[0]-e[0],n=t[2]-e[2];return{length:Math.sqrt(Math.pow(a,2)+Math.pow(n,2)),angle:Math.atan2(n,a)}}(t||e,a||e),r=s.angle+(n?Math.PI:0),o=.2*s.length;return[e[0]+Math.cos(r)*o,e[2]+Math.sin(r)*o]},Y=function(e,t,a){var n=G(a[t-1],a[t-2],e),s=G(e,a[t-1],a[t+1],!0);return"C ".concat(n[0],",").concat(n[1]," ").concat(s[0],",").concat(s[1]," ").concat(e[0],",").concat(e[2])},J=function(e,t,a){var n=X(a[t-1],a[t-2],e),s=X(e,a[t-1],a[t+1],!0);return"C ".concat(n[0],",").concat(n[1]," ").concat(s[0],",").concat(s[1]," ").concat(e[0],",").concat(e[4])},q=function(e,t,a){var n=V(a[t-1],a[t-2],e),s=V(e,a[t-1],a[t+1],!0);return"C ".concat(n[0],",").concat(n[1]," ").concat(s[0],",").concat(s[1]," ").concat(e[0],",").concat(e[3])},V=function(e,t,a,n){var s=function(e,t){var a=t[0]-e[0],n=t[3]-e[3];return{length:Math.sqrt(Math.pow(a,2)+Math.pow(n,2)),angle:Math.atan2(n,a)}}(t||e,a||e),r=s.angle+(n?Math.PI:0),o=.2*s.length;return[e[0]+Math.cos(r)*o,e[3]+Math.sin(r)*o]},X=function(e,t,a,n){var s=function(e,t){var a=t[0]-e[0],n=t[4]-e[4];return{length:Math.sqrt(Math.pow(a,2)+Math.pow(n,2)),angle:Math.atan2(n,a)}}(t||e,a||e),r=s.angle+(n?Math.PI:0),o=.2*s.length;return[e[0]+Math.cos(r)*o,e[4]+Math.sin(r)*o]};function $(e,t){var a="M 0 ".concat(e," H ").concat(t);return'<path d="'.concat(a,'" fill="none" class="plot_line" data-z-index="0" />')}function Q(e,t){var a="M ".concat(e-10," ").concat(t," L ").concat(e," ").concat(t);return'<path d="'.concat(a,'" fill="none" class="plot_line" data-z-index="0" />')}function Z(e,t,a){for(var n=t/a,s=[],r=a;r<=a;r++){var o=n*r;s.push($(o,e))}return s}function ee(e,t){for(var a=[],n=e/t,s=0;s<=t;s++){var r=n*s;a.push(Q(0,r))}return a}function te(e,t){var a="M ".concat(e," ").concat(t," L ").concat(e," ").concat(t+10);return'<path class="plot_xmark" d="'.concat(a,'" data-z-index="0" />')}function ae(e,t,a){for(var n=[],s=e/(a-1),r=0;r<a;r++){var o=s*r;n.push(te(o,t))}return n}function ne(e,t){for(var a,n,s=[],r=e/10,o=0;o<=t;o++)s.push((a=e-r*o,n=10*o,'<text x="'.concat(-40,'" textAnchor="end" class="plot_ytick" y="').concat(a,'">').concat(n,"</text>")));return s}function se(e,t,a,n,s){return'<text x="'.concat(t/2,'" class="plot_title" text-anchor="middle" y="').concat(-s/3,'">').concat(e,"</text>")}function re(e,t,a,n){for(var s=[],r=Object.keys(n).length,o=Math.floor(r/a-1),i=e/(a-1),c=0;c<a;c++)s.push('<text x="'.concat(i*c,'" class="plot_xtick" text-anchor="middle" y="').concat(t+30,'">').concat(ue(n[o*c][1]),"</text>"));return s}function oe(e,t,a,n,s){return'<text x="'.concat(t/2,'" text-anchor="middle" class="plot_xaxis_title" y="').concat(a+s/2,'"><tspan>').concat(e,"</tspan></text>")}function ie(e,t){var a=256*(e.width/t.max_x);return'<g>\n        <path fill="none" class="plot_pointer_line" d="M '.concat(a," 0 L ").concat(a," ").concat(e.height,'" stroke-dasharray="6" data-z-index="0"></path>\n    </g>')}function ce(e,t,a,n){var s=[];if(void 0!==e&&void 0!==e.value_y)for(var r=0;r<e.colors.length;r++)s.push('<path fill="none" d="M 5 '.concat(25*(r+1)+22," L 20 ").concat(25*(r+1)+22,'" stroke="').concat(e.colors[r],'" strokeWidth="2" opacity="1"></path>\n            // <text x=25 y=').concat(25*(r+1)+25,">").concat(n[r]," value y: ").concat(e.value_y[2][r],", min: ").concat(e.value_y[3][r].toFixed(2),", max: ").concat(e.value_y[2][r].toFixed(2),"</text>"));var o=function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,s=t.getFullYear();a<10&&(a="0"+a);n<10&&(n="0"+n);return e=a+"-"+n+"-"+s}(e.value_x);return'<g transform="translate('.concat(e.pos_x,", ").concat(e.pos_y,')" data-z-index="1" class="plot_info_box" visibility=').concat(e.visibility,'>\n        <rect x="0" y="0" width=').concat(t," height=").concat(a,'  />   \n        <g class="plot_info_box_header">\n        <text x=5 y="25">Date: ').concat(o,"</text>\n        </g>\n        ").concat(s,"\n    </g>")}function le(e,t,a,n){for(var s=[],r=0;r<a.length;r++)s.push('\n        \n        <g data-z-index="1" transform="translate('.concat(87*r+8,',3)">\n            <path fill="none" d="M 0 11 L 30 11" stroke=').concat(a[r],' strokeWidth="1"></path>\n            <text x="35" textAnchor="start" data-z-index="0" y="15" font-size="0.9em" stroke="#6c757d">').concat(n[r],"</text>\n        </g>\n\n        "));return'\n        <g transform="translate('.concat(e,", ").concat(t,')" class="plot_legend" >\n            ').concat(s,"\n        </g>\n    ")}function ue(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1;return a<10&&(a="0"+a),n<10&&(n="0"+n),n+"-"+t.getFullYear()}var he={dimensions:{width:1100,height:500,height2:675,width2:1210,x_trans:85,y_trans:85,box_width:400,box_height:120},number_of_plots:5,ranges_dates:{max_x:303,min_x:0,max_y:100,min_y:0},array_length_dates:256,array_length_dates_forecast:48,KEYWORDS_URL:"http://0.0.0.0:5000"},de=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("g",null,s.a.createElement("g",{dangerouslySetInnerHTML:{__html:oe(this.props.x_label,this.props.dimensions.width,this.props.dimensions.height,this.props.dimensions.x_trans,this.props.dimensions.y_trans)}}),s.a.createElement("g",{dangerouslySetInnerHTML:{__html:ae(this.props.dimensions.width,this.props.dimensions.height,this.props.ticks)}}),s.a.createElement("g",{dangerouslySetInnerHTML:{__html:re(this.props.dimensions.width,this.props.dimensions.height,this.props.ticks,this.props.dates)}}))}}]),t}(s.a.PureComponent),me=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("g",null,s.a.createElement("g",{dangerouslySetInnerHTML:{__html:ne(this.props.dimensions.height,this.props.y_number)}}),s.a.createElement("g",{dangerouslySetInnerHTML:{__html:(e=this.props.y_label,t=this.props.dimensions.height,a=this.props.dimensions.x_trans,'<text x="'.concat(a,'" text-anchor="middle" transform="translate(0,0) rotate(270 25.140625 309.5)" class="plot_yaxis_title" y="').concat((t+a)/2-.8*a,'"><tspan>').concat(e,"</tspan></text>"))}}));var e,t,a}}]),t}(s.a.PureComponent),pe=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("g",null,s.a.createElement("g",{dangerouslySetInnerHTML:{__html:le(this.props.dimensions.width/2-this.props.dimensions.x_trans,this.props.dimensions.height+this.props.dimensions.y_trans/2,this.props.colors,this.props.keywords)}}))}}]),t}(s.a.PureComponent),_e=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("g",null,s.a.createElement("g",{dangerouslySetInnerHTML:{__html:ie(this.props.dimensions,this.props.ranges)}}))}}]),t}(s.a.PureComponent),fe=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("g",null,s.a.createElement("g",{dangerouslySetInnerHTML:{__html:(e=this.props.mark_line,t=this.props.height,'<g transform="translate('.concat(e.pos,', 0)">\n        <path fill="none" data-z-index="0" class="plot_mark_line" d="M 0 0 L 0 ').concat(t,'" visibility="').concat(e.visibility,'" />         \n    </g>'))}}));var e,t}}]),t}(s.a.PureComponent),be=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("g",null,s.a.createElement("g",{dangerouslySetInnerHTML:{__html:ce(this.props.info_box,this.props.width,this.props.height,this.props.keywords)}}))}}]),t}(s.a.PureComponent),ge=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"dash"===this.props.style?s.a.createElement("g",{dangerouslySetInnerHTML:{__html:z(this.props.data,this.props.color,4)}}):s.a.createElement("g",{dangerouslySetInnerHTML:{__html:z(this.props.data,this.props.color)}})}}]),t}(s.a.PureComponent),ve=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("g",null,s.a.createElement("g",{dangerouslySetInnerHTML:{__html:Z(this.props.dimensions.width,this.props.dimensions.height,this.props.y_number)}}),s.a.createElement("g",{dangerouslySetInnerHTML:{__html:ee(this.props.dimensions.height,this.props.y_number)}}),s.a.createElement("g",{dangerouslySetInnerHTML:{__html:se(this.props.title,this.props.dimensions.width,this.props.dimensions.height,this.props.dimensions.x_trans,this.props.dimensions.y_trans)}}))}}]),t}(s.a.PureComponent),ye=.6*window.innerWidth,ke=he.dimensions;ke.width2=ye,ke.width=ye/1.1;var Ee=he.ranges_dates,we=he.number_of_plots,xe=he.array_length_dates+he.array_length_dates_forecast;ke.box_height=H(we);var Oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleMouseMove=a.handleMouseMove.bind(Object(f.a)(a)),a.handleHoverOff=a.handleHoverOff.bind(Object(f.a)(a)),a.state={title:a.props.options.title,y_number:10,ticks_number:xe,x_label:a.props.options.x_label,y_label:a.props.options.y_label,mark_line:{pos:0,visibility:"hidden"},info_box:{pos_x:0,pos_y:0,visibility:"hidden",colors:B(a.props.number_of_series)},scaled_data_mocks_area_DATES:a.scale_data_mocks(a.props.data,a.props.futureData,Ee,ke,a.props.number_of_series)[0],scaled_data_mocks_area_future_DATES:a.scale_data_mocks(a.props.data,a.props.futureData,Ee,ke,a.props.number_of_series)[1],data_map_area_DATES:a.get_data_map_area_DATES(a.props.data,a.props.futureData,xe,a.props.number_of_series),colors:a.get_random_colors(a.props.number_of_series),info_box_height:a.get_box_height(a.props.number_of_series),number:a.props.number_of_series},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"scale_data_mocks",value:function(e,t,a,n,s){return function(e,t,a,n,s){for(var r=[],o=[],i=0;i<s;i++)r.push(I(e[i],a,n.width,n.height)),o.push(I(t[i],a,n.width,n.height,256));return[r,o]}(e,t,a,n,s)}},{key:"get_data_map_area_DATES",value:function(e,t,a,n){return function(e,t,a){for(var n=[],s=0;s<t;s++){var r,o=[],i=[],c=[];r=e[0][s][1];for(var l=0;l<a;l++)o.push(e[l][s][2]),i.push(e[l][s][3]),c.push(e[l][s][4]);n[s]=[s,r,o,i,c]}return n}(function(e,t,a){for(var n=[],s=0;s<a;s++)n.push(e[s].concat(t[s]));return n}(e,t,n),a,n)}},{key:"get_random_colors",value:function(e){return B(e)}},{key:"get_box_height",value:function(e){return H(e)}},{key:"handleMouseMove",value:function(e){var t=e.target.getBoundingClientRect(),a=e.clientX-t.left-1*ke.x_trans+5,n=e.clientY-t.top-ke.y_trans+5;if(a>=0&&n>=0&&a<=ke.width&&n<=ke.height){var s=Ee.max_x-Ee.min_x,r=ke.width/s,o=Math.round(a/r);if(void 0!==this.state.data_map_area_DATES[o]){Math.round((Ee.max_x-Ee.min_x)/2),Math.round((Ee.max_x-Ee.min_x)/2);for(var i=Ee.min_x;i<=o;i++)void 0!==this.state.data_map_area_DATES[i]&&i;for(var c=o;c<=Ee.max_x;c++)void 0!==this.state.data_map_area_DATES[c]&&c;this.setState({mark_line:{pos:a},info_box:{pos_x:a,pos_y:n,value_x:this.state.data_map_area_DATES[o][1],value_y:this.state.data_map_area_DATES[o],colors:B(this.props.number_of_series)}}),"hidden"!==this.state.info_box.visibility&&void 0!==this.state.info_box.visibility||this.setState({mark_line:{pos:a}})}else if(void 0!==o){for(var l=o-1,u=o+1,h=o;h>=0;h--)if(void 0!==this.state.data_map_area_DATES[h]){l=h;break}for(var d=o;d<=Ee.max_x;d++)if(void 0!==this.state.data_map_area_DATES[d]){u=d;break}void 0!==this.state.data_map_area_DATES[l]&&void 0!==this.state.data_map_area_DATES[u]&&(this.setState({mark_line:{pos:a},info_box:{pos_x:a,pos_y:n,value_x:this.state.data_map_area_DATES[o][1],value_y:this.state.data_map_area_DATES[o],colors:B(this.props.number_of_series)}}),"hidden"!==this.state.info_box.visibility&&void 0!==this.state.info_box.visibility||this.setState({mark_line:{pos:a}}))}}else(a>ke.width||n>ke.height||a<ke.x_trans||n<ke.y_trans)&&this.setState({mark_line:{visibility:"hidden",pos:9999},info_box:{visibility:"hidden",pos_x:9999,pos_y:9999,colors:B(this.props.number_of_series)}})}},{key:"handleHoverOff",value:function(e){this.setState({mark_line:{pos:0,visibility:"hidden"},info_box:{pos_x:0,pos_y:0,visibility:"hidden",colors:B(this.props.number_of_series)}})}},{key:"render",value:function(){var e=this,t=this.state.scaled_data_mocks_area_DATES.map((function(t,a){return s.a.createElement(ge,{key:a,data:t,color:e.state.colors[a],style:"none"})})),a=this.state.scaled_data_mocks_area_future_DATES.map((function(t,a){return s.a.createElement(ge,{key:a,data:t,color:e.state.colors[a],style:"dash"})})),n="0 0 "+ke.width2+" "+ke.height2,r="translate("+ke.x_trans+","+ke.y_trans+")";return s.a.createElement("div",null,s.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",onMouseMove:this.handleMouseMove,onMouseLeave:this.handleHoverOff,className:"test_plot",width:ke.width2,height:ke.height2,viewBox:n},s.a.createElement("g",null,s.a.createElement("g",{transform:r},t,a,s.a.createElement(ve,{dimensions:ke,y_number:this.state.y_number,title:this.state.title}),s.a.createElement(me,{dimensions:ke,y_number:this.state.y_number,y_label:this.state.y_label}),s.a.createElement(de,{dimensions:ke,x_label:this.state.x_label,ticks:10,dates:this.state.data_map_area_DATES}),s.a.createElement(pe,{dimensions:ke,colors:this.state.colors,keywords:this.props.keywords}),s.a.createElement(_e,{dimensions:ke,ranges:Ee}),s.a.createElement(fe,{mark_line:this.state.mark_line,height:ke.height}),s.a.createElement(be,{info_box:this.state.info_box,width:ke.box_width,height:this.state.info_box_height,keywords:this.props.keywords})))))}}]),t}(s.a.Component),je=(a(35),{KEYWORDS_URL:"http://localhost:5000/keywords",KEYWORDS_URL3:"http://localhost:5000/all",KEYWORDS_URL2:"http://0.0.0.0:5000/",KEYWORDS_NEW:"http://0.0.0.0:5000/new",RATE_RANKER_URL:"http://localhost:5000/rateranker",GROWTH_RANKER_URL:"http://localhost:5000/growthranker"}),De=(a(36),je.dimensions),Me=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleSearch2=function(){fetch("/users/ping").then((function(e){return e.json()})).then((function(e){console.log("this data"),console.log(e),a.setState({title:"after"})}))},a.fetchCallback=function(e){a.setState({displayResults:!1}),a.fetchData2(e.keywords,e.selected_state_name,e.selected_time_frame)},a.state={repos:[],title:"before",username:"user",keywords:[],authenticated:!0,displayResults:!1,region_state:"US",data:[],futureData:[],selected_time_frame:"today 5-y",dataRanges:[],futureDataRanges:[],rankRates:[],growthRates:[],options:{title:"Trends Forecast",x_label:"Date",y_label:"Search interest (%)",dimensions:De}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"fetchData2",value:function(e,t,a){var n=this;fetch("/new",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({keywords:e,region_state:t,time_frame:a})}).then((function(e){return e.json()})).then((function(s){var r;n.setState((r={data:n.dataMapping2(e,s),futureData:n.futureData2(e,s),keywords:e,displayResults:!0,region_state:t,selected_time_frame:a},Object(i.a)(r,"displayResults",!0),Object(i.a)(r,"rankRates",n.getRateTableData(s.growth_rate_result)),Object(i.a)(r,"growthRates",n.getGrowthTableData(s.projected_growth_result)),r))}))}},{key:"render",value:function(){return this.state.authenticated?s.a.createElement("div",{className:"main_results"},this.state.displayResults?s.a.createElement("div",null,s.a.createElement(_,{username:this.state.username}),s.a.createElement(y,{callbackFromParent:this.fetchCallback}),s.a.createElement("div",{className:"results_div"},s.a.createElement(j.a,null,s.a.createElement(b.a,{sm:5},s.a.createElement("div",null,s.a.createElement(F,null))),s.a.createElement(b.a,{sm:7},s.a.createElement("div",null,s.a.createElement(Oe,{options:this.state.options,data:this.state.data,futureData:this.state.futureData,number_of_series:this.state.futureData.length,keywords:this.state.keywords}))))),s.a.createElement("div",{className:"tables"},s.a.createElement(j.a,null,s.a.createElement(b.a,{sm:6},s.a.createElement("span",{className:"center"},s.a.createElement("h3",null,"Growth Rate")),s.a.createElement(S,{tableData:this.state.rankRates})),s.a.createElement(b.a,{sm:6},s.a.createElement("span",{className:"center"},s.a.createElement("h3",null,"Projected growth")),s.a.createElement(S,{tableData:this.state.growthRates}))))):s.a.createElement("div",null,s.a.createElement(_,{username:this.state.username}),s.a.createElement(y,{callbackFromParent:this.fetchCallback}),s.a.createElement("div",{className:"intro"}))):s.a.createElement("div",null,s.a.createElement(D,{callbackFromLogin:this.toLoginCallback}))}},{key:"getGrowthTableData",value:function(e){var t=["Projected growth in 5 weeks for US (for all keywords) [%]","Projected growth in 5 weeks for US (for one keyword) [%]"],a={data:Object.keys(e.Keyword).map((function(a){return[e.Keyword[a],e[t[0]][a],e[t[1]][a]]})),headers:t};return console.log(a),a}},{key:"getRateTableData",value:function(e){var t=["Growth_Rate_0_1","Growth_Rate_0_2","Growth_Rate_0_3","Growth_Rate_1_2","Growth_Rate_2_3"];return{data:Object.keys(e.Keyword).map((function(a){return[e.Keyword[a],e[t[0]][a],e[t[1]][a],e[t[2]][a],e[t[3]][a],e[t[4]][a]]})),headers:t}}},{key:"dataMapping2",value:function(e,t){var a=[],n=function(n){var s=0,r=e[n],o=Object.keys(t[r]["5 Day MA for "+r]).slice(4,260).map((function(e){return[s++,Date.UTC(e.substring(0,4),e.substring(5,7),e.substring(8,10)),t[r]["5 Day MA for "+r][e],t[r]["Lower Band for "+r][e],t[r]["Upper Band for "+r][e]]}));a.push(o)};for(var s in e)n(s);return a}},{key:"futureData2",value:function(e,t){var a=[],n=function(n){var s=0,r=e[n],o=Object.keys(t[e[n]+"F"][e[n]]).map((function(a){return[s++,Date.UTC(a.substring(0,4),a.substring(5,7),a.substring(8,10)),t[e[n]+"F"]["5 Day MA for "+r][a],t[e[n]+"F"]["Lower Band for "+r][a],t[e[n]+"F"]["Upper Band for "+r][a]]}));a.push(o)};for(var s in e)n(s);return a}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(Me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.970ad884.chunk.js.map